{"entries":[{"timestamp":1750120612198,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"http"],[-1,"s"],[0,"://"],[-1,"developers.google.com/blockly/xml\"><variables><variable id=\"{dDHEe-SyR7Um~W4MB*9\">buoyID</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"{dDHEe-SyR7Um~W4MB*9\">buoyID</field><comment pinned=\"false\" h=\"80\" w=\"160\">กำหนด ID ของทุ่นนี้ (เปลี่ยนตามทุ่นที่ต้องการ)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่าเมื่อเริ่มต้น\nตั้งค่า Group ของวิทยุให้ตรงกันทุก Micro:bit</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value></block></next></block></statement></block><block type=\"device_button_event\" x=\"299\" y=\"0\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอน \"ไม่\" ชั่วคราว (จำลองขยะ)</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความ \"PLASTIC-1\" (ถ้า ID เป็น 1)</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">PLASTIC-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{dDHEe-SyR7Um~W4MB*9\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">หน่วงเวลา</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">เคลียร์หน้าจอ</comment></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"903\" y=\"0\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Skull</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอน \"กะโหลก\" ชั่วคราว</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความ \"NET-1\"</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">NET-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{dDHEe-SyR7Um~W4MB*9\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"0\" y=\"339\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่า Group ของวิทยุให้ตรงกันทุก Micro:bit\nโค้ดที่ทำงานตลอดเวลา (ถ้ามี)</comment></block><block type=\"device_gesture_event\" x=\"205\" y=\"339\"><field name=\"NAME\">Gesture.Shake</field><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Ghost</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอน \"ผี\" ชั่วคราว</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความ \"OIL-1\"</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">OIL-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{dDHEe-SyR7Um~W4MB*9\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement></block>"],[1,"www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n"],[0,"</xm"]],"start1":12,"start2":12,"length1":4099,"length2":113}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"input.onButtonPressed(Button.A, function () {\n    // แสดงไอคอน \"ไม่\" ชั่วคราว (จำลองขยะ)\n    basic.showIcon(IconNames.No)\n    // ส่งข้อความ \"PLASTIC-1\" (ถ้า ID เป็น 1)\n    radio.sendString(\"PLASTIC-\" + buoyID)\n    // หน่วงเวลา\n    basic.pause(500)\n    // เคลียร์หน้าจอ\n    basic.clearScreen()\n})\ninput.onButtonPressed(Button.B, function () {\n    // แสดงไอคอน \"กะโหลก\" ชั่วคราว\n    basic.showIcon(IconNames.Skull)\n    // ส่งข้อความ \"NET-1\"\n    radio.sendString(\"NET-\" + buoyID)\n    basic.pause(500)\n    basic.clearScreen()\n})\ninput.onGesture(Gesture.Shake, function () {\n    // แสดงไอคอน \"ผี\" ชั่วคราว\n    basic.showIcon(IconNames.Ghost)\n    // ส่งข้อความ \"OIL-1\"\n    radio.sendString(\"OIL-\" + buoyID)\n    basic.pause(500)\n    basic.clearScreen()\n})\nlet buoyID = 0\n// กำหนด ID ของทุ่นนี้ (เปลี่ยนตามทุ่นที่ต้องการ)\nbuoyID = 1\n// ตั้งค่าเมื่อเริ่มต้น\n// ตั้งค่า Group ของวิทยุให้ตรงกันทุก Micro:bit\nradio.setGroup(1)\n// ตั้งค่า Group ของวิทยุให้ตรงกันทุก Micro:bit\n// โค้ดที่ทำงานตลอดเวลา (ถ้ามี)\nbasic.forever(function () {\n\t\n})"],[0,"\n"]],"start1":0,"start2":0,"length1":1028,"length2":1}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"   \""],[-1,"preferredEditor\": \"blocksprj\""],[1,"additionalFilePaths\": []"],[0,"\n}\n"]],"start1":228,"start2":228,"length1":36,"length2":31}]}]},{"timestamp":1750121300364,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"t"],[1,"block"],[0,"sprj\"\n}\n"]],"start1":243,"start2":243,"length1":17,"length2":21}]}]},{"timestamp":1750121347994,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"ye*sUu$gun=GAyZ;T!L?\">parts</variable><variable id=\"o_1O(DLwVQ|S]K?T+Y=e\">wasteType</variable><variable id=\"{ekCF8nMSOl*R:%e/D8W\">buoyId</variable><variable id=\"l`TX`wmaq.MXP/~M~~g8\">plasticCount</variable><variable id=\"-$,xKU*[YNv6uX-sqj}|\">netCount</variable><variable id=\"YaB,:9)).HN6YAE*,$og\">oilCount"],[1,"{dDHEe-SyR7Um~W4MB*9\">buoyID"],[0,"</va"]],"start1":76,"start2":76,"length1":313,"length2":36},{"diffs":[[0," x=\""],[-1,"2"],[0,"0\" y=\""],[-1,"2"],[0,"0\"><"]],"start1":157,"start2":157,"length1":16,"length2":14},{"diffs":[[0,"pe=\""],[-1,"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่าเมื่อเริ่มต้น\nต้องตรงกับ Group ของทุ่น"],[1,"variables_set\"><field name=\"VAR\" id=\"{dDHEe-SyR7Um~W4MB*9\">buoyID</field><comment pinned=\"false\" h=\"80\" w=\"160\">กำหนด ID ของทุ่นนี้ (เปลี่ยนตามทุ่นที่ต้องการ)"],[0,"</co"]],"start1":205,"start2":205,"length1":109,"length2":166},{"diffs":[[0,"e name=\""],[-1,"ID"],[1,"VALUE"],[0,"\"><shado"]],"start1":382,"start2":382,"length1":18,"length2":21},{"diffs":[[0,"mber"],[-1,"_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation"],[1,"\""],[0,"><fi"]],"start1":418,"start2":418,"length1":69,"length2":9},{"diffs":[[0,"me=\""],[-1,"SLIDER"],[1,"NUM"],[0,"\">1<"]],"start1":433,"start2":433,"length1":14,"length2":11},{"diffs":[[0,"k type=\""],[-1,"device_print_message"],[1,"radio_set_group"],[0,"\"><comme"]],"start1":479,"start2":479,"length1":36,"length2":31},{"diffs":[[0,"w=\"160\">"],[-1,"แสดงสถานะพร้อมทำงาน"],[1,"ตั้งค่าเมื่อเริ่มต้น\nตั้งค่า Group ของวิทยุให้ตรงกันทุก Micro:bit"],[0,"</commen"]],"start1":535,"start2":535,"length1":35,"length2":81},{"diffs":[[0,"nt><value name=\""],[-1,"text"],[1,"ID"],[0,"\"><shadow type=\""]],"start1":615,"start2":615,"length1":36,"length2":34},{"diffs":[[0,"pe=\""],[-1,"text\"><field name=\"TEXT\">READY!"],[1,"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">1"],[0,"</fi"]],"start1":645,"start2":645,"length1":39,"length2":103},{"diffs":[[0," x=\""],[-1,"317"],[1,"299"],[0,"\" y=\""],[-1,"2"],[0,"0\"><"]],"start1":845,"start2":845,"length1":17,"length2":16},{"diffs":[[0,"Button.A"],[-1,"B"],[0,"</field>"]],"start1":879,"start2":879,"length1":17,"length2":16},{"diffs":[[0,"ld><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">โหมดทำความสะอาด</comment><"],[0,"stat"]],"start1":892,"start2":892,"length1":72,"length2":8},{"diffs":[[0,"mes."],[-1,"Happy"],[1,"No"],[0,"</fi"]],"start1":973,"start2":973,"length1":13,"length2":10},{"diffs":[[0,"อคอน"],[-1,"มีความสุข"],[1," \"ไม่\" ชั่วคราว (จำลองขยะ)"],[0,"</co"]],"start1":1031,"start2":1031,"length1":17,"length2":34},{"diffs":[[0,"pe=\""],[-1,"device_print_message\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">CLEANING...</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"l`TX`wmaq.MXP/~M~~g8\">plasticCount</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-$,xKU*[YNv6uX-sqj}|\">netCount</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM"],[1,"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความ \"PLASTIC-1\" (ถ้า ID เป็น 1)</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2"],[0,"\">"],[-1,"0"],[0,"</"],[-1,"field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"YaB,:9)).HN6YAE*,$og\">oilCount</field"],[1,"mutation"],[0,"><va"]],"start1":1086,"start2":1086,"length1":637,"length2":195},{"diffs":[[0,"on><value name=\""],[-1,"VALUE"],[1,"ADD0"],[0,"\"><shadow type=\""]],"start1":1275,"start2":1275,"length1":37,"length2":36},{"diffs":[[0,"hadow type=\""],[-1,"math_number"],[1,"text"],[0,"\"><field nam"]],"start1":1299,"start2":1299,"length1":35,"length2":28},{"diffs":[[0,"t\"><field name=\""],[-1,"NUM\">0"],[1,"TEXT\">PLASTIC-"],[0,"</field></shadow"]],"start1":1314,"start2":1314,"length1":38,"length2":46},{"diffs":[[0,"ue><"],[-1,"next><block type=\"device_pause\"><"],[0,"valu"]],"start1":1366,"start2":1366,"length1":41,"length2":8},{"diffs":[[0,"ue><value name=\""],[-1,"pause"],[1,"ADD1"],[0,"\"><shadow type=\""]],"start1":1366,"start2":1366,"length1":37,"length2":36},{"diffs":[[0,"adow type=\"t"],[-1,"imePicker"],[1,"ext"],[0,"\"><field nam"]],"start1":1391,"start2":1391,"length1":33,"length2":27},{"diffs":[[0,"me=\""],[-1,"ms\">1000"],[1,"TEXT\">"],[0,"</fi"]],"start1":1417,"start2":1417,"length1":16,"length2":14},{"diffs":[[0,"ow><"],[-1,"/value><next><block type=\"device_clear_display\"><next><block type=\"function_call\"><mutation name=\"showOverallStatus\" functionid=\"5frT/B~9ML*@!)u8ieQ]\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงสถานะหลังทำความสะอาด</comment></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"649\" y=\"20\"><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"showOverallStatus\" functionid=\"5frT/B~9ML*@!)u8ieQ]\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">สามารถแสดงสถานะรวมหมุนวนไปเรื่อยๆ ได้</comment"],[1,"block type=\"variables_get\"><field name=\"VAR\" id=\"{dDHEe-SyR7Um~W4MB*9\">buoyID</field></block></value></block></value"],[0,"><ne"]],"start1":1441,"start2":1441,"length1":639,"length2":124},{"diffs":[[0,"60\">"],[-1,"แสดงสถานะรวมทุก 5 วินาที หากไม่มีการเตือนใหม่"],[1,"หน่วงเวลา"],[0,"</co"]],"start1":1630,"start2":1630,"length1":53,"length2":17},{"diffs":[[0,"\"ms\">500"],[-1,"0"],[0,"</field>"]],"start1":1711,"start2":1711,"length1":17,"length2":16},{"diffs":[[0,"ue><"],[-1,"/block></next></block></statement></block><block type=\"radio_on_string_drag\" x=\"944\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงสถานะพร้อมทำงาน</comment><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"ye*sUu$gun=GAyZ;T!L?\">parts</field><comment pinned=\"false\" h=\"80\" w=\"160\">แยกประเภทขยะและ ID ทุ่นจากข้อความที่ได้รับ\nเช่น \"PLASTIC-1\" จะถูกแยกเป็น [\"PLASTIC\", \"1\"]</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_split\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"separator\"><shadow type=\"text\"><field name=\"TEXT\">-</field></shadow></value"],[1,"next><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">เคลียร์หน้าจอ</comment></block></next></block></next"],[0,"></b"]],"start1":1741,"start2":1741,"length1":976,"length2":139},{"diffs":[[0,"k></"],[-1,"value><"],[0,"next><"],[1,"/"],[0,"block"],[-1," type=\"variables_set\"><field name=\"VAR\" id=\"o_1O(DLwVQ|S]K?T+Y=e\">wasteType</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"ye*sUu$gun=GAyZ;T!L?\">parts</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"{ekCF8nMSOl*R:%e/D8W\">buoyId</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"ye*sUu$gun=GAyZ;T!L?\">parts</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation elseif=\"2\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"o_1O(DLwVQ|S]K?T+Y=e\">wasteType</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">PLASTIC</field></block></value></block></value><statement name=\"DO0\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . # . # . \n        . # # # . \n        . . # . . \n        . # # # . \n        . # . # .\n        `</field><comment pinned=\"false\" h=\"80\" w=\"160\">ไอคอนพลาสติก (ตัวอย่าง)</comment><next><block type=\"variables_change\"><field name=\"VAR\" id=\"l`TX`wmaq.MXP/~M~~g8\">plasticCount</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดง \"P-1\" (พลาสติกจากทุ่น 1)</comment><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">P-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{ekCF8nMSOl*R:%e/D8W\">buoyId</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"o_1O(DLwVQ|S]K?T+Y=e\">wasteType</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">NET</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        # # . # # \n        . # # # . \n        . . # . . \n        . # # # . \n        # # . # #\n        `</field><comment pinned=\"false\" h=\"80\" w=\"160\">ไอคอนอวน (ตัวอย่าง)</comment><next><block type=\"variables_change\"><field name=\"VAR\" id=\"-$,xKU*[YNv6uX-sqj}|\">netCount</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดง \"N-1\"</comment><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">N-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{ekCF8nMSOl*R:%e/D8W\">buoyId</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"o_1O(DLwVQ|S]K?T+Y=e\">wasteType</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OIL</field></block></value></block></value><statement name=\"DO2\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        # . . . # \n        . # . # . \n        . . # . . \n        . # . # . \n        # . . . #\n        `</field><comment pinned=\"false\" h=\"80\" w=\"160\">ไอคอนน้ำมัน (ตัวอย่าง)</comment><next><block type=\"variables_change\"><field name=\"VAR\" id=\"YaB,:9)).HN6YAE*,$og\">oilCount</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดง \"O-1\"</comment><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">O-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{ekCF8nMSOl*R:%e/D8W\">buoyId</field></block></value></block></value></block></next></block></next></block></statement><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงผล 2 วินาที</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">เคลียร์หน้าจอ</comment><next><block type=\"function_call\"><mutation name=\"showOverallStatus\" functionid=\"5frT/B~9ML*@!)u8ieQ]\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงสถานะรวม</comment></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1489\" y=\"20\"><mutation name=\"showOverallStatus\" functionid=\"5frT/B~9ML*@!)u8ieQ]\"></mutation><field name=\"function_name\">showOverallStatus</field><comment pinned=\"false\" h=\"80\" w=\"160\">โชว์สถานะรวมของขยะที่ตรวจพบ</comment><statement name=\"STACK\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"text_join\" inline=\"false\"><mutation items=\"6\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">P:</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l`TX`wmaq.MXP/~M~~g8\">plasticCount</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"> N:</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-$,xKU*[YNv6uX-sqj}|\">netCount</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\"> O:</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"YaB,:9)).HN6YAE*,$og\">oilCount</field></block></value></block></value"],[1,"></statement></block><block type=\"device_button_event\" x=\"903\" y=\"0\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Skull</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอน \"กะโหลก\" ชั่วคราว</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความ \"NET-1\"</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">NET-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{dDHEe-SyR7Um~W4MB*9\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"0\" y=\"339\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่า Group ของวิทยุให้ตรงกันทุก Micro:bit\nโค้ดที่ทำงานตลอดเวลา (ถ้ามี)</comment></block><block type=\"device_gesture_event\" x=\"205\" y=\"339\"><field name=\"NAME\">Gesture.Shake</field><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Ghost</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอน \"ผี\" ชั่วคราว</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความ \"OIL-1\"</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">OIL-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{dDHEe-SyR7Um~W4MB*9\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next"],[0,"></b"]],"start1":1883,"start2":1883,"length1":7209,"length2":2199}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"// โชว์สถานะรวมของขยะที่ตรวจพบ\nfunction showOverallStatus () {\n    basic.showString(\"P:\" + plasticCount + \" N:\" + netCount + \" O:\" + oilCount)\n}\n// โหมดทำความสะอาด\n"],[0,"inpu"]],"start1":0,"start2":0,"length1":168,"length2":4},{"diffs":[[0,"Button.A"],[-1,"B"],[0,", functi"]],"start1":22,"start2":22,"length1":17,"length2":16},{"diffs":[[0,"อคอน"],[-1,"มีความสุข"],[1," \"ไม่\" ชั่วคราว (จำลองขยะ)"],[0,"\n   "]],"start1":58,"start2":58,"length1":17,"length2":34},{"diffs":[[0,"mes."],[-1,"Happy"],[1,"No"],[0,")\n    "],[-1,"basic.showString(\"CLEANING...\")\n    plasticCount = 0\n    netCount = 0\n    oilCount = 0"],[1,"// ส่งข้อความ \"PLASTIC-1\" (ถ้า ID เป็น 1)\n    radio.sendString(\"PLASTIC-\" + buoyID)\n    // หน่วงเวลา"],[0,"\n   "]],"start1":114,"start2":114,"length1":105,"length2":116},{"diffs":[[0,"use("],[-1,"10"],[1,"5"],[0,"00)\n    "],[-1,"basic.clearScreen()\n    // แสดงสถานะหลังทำความสะอาด\n    showOverallStatus()\n})\n// แสดงสถานะพร้อมทำงาน\nradio.onReceivedString(function (receivedString) {\n    // แยกประเภทขยะและ ID ทุ่นจากข้อความที่ได้รับ\n    // เช่น \"PLASTIC-1\" จะถูกแยกเป็น [\"PLASTIC\", \"1\"]\n    parts = receivedString.split(\"-\")\n    wasteType = parts[0]\n    buoyId = parts[1]\n    if (wasteType == \"PLASTIC\""],[1,"// เคลียร์หน้าจอ\n    basic.clearScreen()\n})\ninput.onButtonPressed(Button.B, function ("],[0,") {\n    "],[-1,"    // ไอคอนพลาสติก (ตัวอย่าง)\n        basic.showLeds(`\n            . # . # .\n            . # # # .\n            . . # . .\n            . # # # .\n            . # . # .\n            `)\n        plasticCount += 1\n        // แสดง \"P-1\" (พลาสติกจากทุ่น 1)\n        basic.show"],[1,"// แสดงไอคอน \"กะโหลก\" ชั่วคราว\n    basic.showIcon(IconNames.Skull)\n    // ส่งข้อความ \"NET-1\"\n    radio.send"],[0,"String(\""],[-1,"P"],[1,"NET"],[0,"-\" +"]],"start1":239,"start2":239,"length1":673,"length2":229},{"diffs":[[0,"uoyI"],[-1,"d"],[1,"D"],[0,")\n    "],[-1,"} else if (wasteType == \"NET\") {\n        // ไอคอนอวน (ตัวอย่าง)\n        basic.showLeds(`\n            # # . # #\n            . # # # .\n            . . # . .\n            . # # # .\n            # # . # #\n            `)\n        netCount += 1\n        // แสดง \"N-1\"\n        basic.showString(\"N-\" + buoyId)\n    } else if (wasteType == \"OIL\""],[1,"basic.pause(500)\n    basic.clearScreen()\n})\ninput.onGesture(Gesture.Shake, function ("],[0,") {\n    "],[-1,"    "],[0,"// "],[1,"แสดง"],[0,"ไอคอน"],[-1,"น้ำมัน (ตัวอย่าง)\n        basic.showLeds(`\n            # . . . #\n            . # . # .\n            . . # . .\n            . # . # .\n            # . . . #\n            `)\n        oilCount += 1\n   "],[1," \"ผี\" ชั่วคราว\n    basic.showIcon(IconNames.Ghost)\n"],[0,"    "],[-1," "],[0,"// "],[-1,"แสดง"],[1,"ส่งข้อความ"],[0," \"O"],[1,"IL"],[0,"-1\"\n    "],[-1,"    basic.show"],[1,"radio.send"],[0,"Stri"]],"start1":470,"start2":470,"length1":596,"length2":211},{"diffs":[[0,"tring(\"O"],[1,"IL"],[0,"-\" + buo"]],"start1":678,"start2":678,"length1":16,"length2":18},{"diffs":[[0,"uoyI"],[-1,"d"],[1,"D"],[0,")\n"],[-1,"    }\n    // แสดงผล 2 วินาที\n"],[0,"    "]],"start1":694,"start2":694,"length1":40,"length2":11},{"diffs":[[0,"use("],[-1,"20"],[1,"5"],[0,"00)\n    "],[-1,"// เคลียร์หน้าจอ\n    basic.clearScreen()\n    // แสดงสถานะรวม\n    showOverallStatus()\n})\nlet buoyId = \"\"\nlet wasteType = \"\"\nlet parts: string[] = []\nlet oilCount = 0\nlet netCount = 0\nlet plasticCount = 0"],[1,"basic.clearScreen()\n})\nlet buoyID = 0\n// กำหนด ID ของทุ่นนี้ (เปลี่ยนตามทุ่นที่ต้องการ)\nbuoyID = 1"],[0,"\n// "]],"start1":713,"start2":713,"length1":220,"length2":115},{"diffs":[[0,"// ต"],[-1,"้องตรงกับ"],[1,"ั้งค่า"],[0," Gro"]],"start1":849,"start2":849,"length1":17,"length2":14},{"diffs":[[0," ของ"],[-1,"ทุ่น\nradio.setGroup(1)\n// แสดงสถานะพร้อมทำงาน\nbasic.showString(\"READY!\")\nbasic.forever(function () {\n    // สามารถแสดงสถานะรวมหมุนวนไปเรื่อยๆ ได้\n    showOverallStatus()\n    // แสดงสถานะรวมทุก 5 วินาที หากไม่มีการเตือนใหม่\n    basic.pause(5000)"],[1,"วิทยุให้ตรงกันทุก Micro:bit\nradio.setGroup(1)\n// ตั้งค่า Group ของวิทยุให้ตรงกันทุก Micro:bit\n// โค้ดที่ทำงานตลอดเวลา (ถ้ามี)\nbasic.forever(function () {\n\t"],[0,"\n})\n"]],"start1":865,"start2":865,"length1":252,"length2":163}]}]},{"timestamp":1750121468575,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"let"],[1,"// โชว์สถานะรวมของขยะที่ตรวจพบ\nfunction showOverallStatus () {\n    basic.showString(\"P:\" +"],[0," plastic"]],"start1":0,"start2":0,"length1":11,"length2":98},{"diffs":[[0,"icCount "],[-1,"= 0\nlet"],[1,"+ \" N:\" +"],[0," netCoun"]],"start1":96,"start2":96,"length1":23,"length2":25},{"diffs":[[0,"unt "],[-1,"= 0\nlet oilCount = 0\n\n// ตั้งค่าเมื่อเริ่มต้น\nradio.setGroup(1) // ต้องตรงกับ Group ของทุ่น\nbasic.showString(\"READY!\") "],[1,"+ \" O:\" + oilCount)\n}\n// โหมดทำความสะอาด\ninput.onButtonPressed(Button.AB, function () {\n    // แสดงไอคอนมีความสุข\n    basic.showIcon(IconNames.Happy)\n    basic.showString(\"CLEANING...\")\n    plasticCount = 0\n    netCount = 0\n    oilCount = 0\n    basic.pause(1000)\n    basic.clearScreen()\n    // แสดงสถานะหลังทำความสะอาด\n    showOverallStatus()\n})\n"],[0,"// แ"]],"start1":119,"start2":119,"length1":127,"length2":354},{"diffs":[[0,"อมทำงาน\n"],[-1,"\n"],[0,"radio.on"]],"start1":484,"start2":484,"length1":17,"length2":16},{"diffs":[[0,"\n   "],[-1," let parts = receivedString.split(\"-\")"],[0," // "]],"start1":592,"start2":592,"length1":46,"length2":8},{"diffs":[[0,"1\"]\n    "],[-1,"let"],[1,"parts = receivedString.split(\"-\")\n   "],[0," wasteTy"]],"start1":643,"start2":643,"length1":19,"length2":53},{"diffs":[[0,"    "],[-1,"let "],[0,"buoy"]],"start1":710,"start2":710,"length1":12,"length2":8},{"diffs":[[0,"arts[1]\n"],[-1,"\n"],[0,"    if ("]],"start1":724,"start2":724,"length1":17,"length2":16},{"diffs":[[0,"PLASTIC\") {\n"],[1,"        // ไอคอนพลาสติก (ตัวอย่าง)\n"],[0,"        basi"]],"start1":754,"start2":754,"length1":24,"length2":59},{"diffs":[[0,"  `)"],[-1," // ไอคอนพลาสติก (ตัวอย่าง)"],[0,"\n   "]],"start1":946,"start2":946,"length1":35,"length2":8},{"diffs":[[0,"    "],[-1,"basic.showString(\"P-\" + buoyId) // แสดง \"P-1\" (พลาสติกจากทุ่น 1"],[1,"// แสดง \"P-1\" (พลาสติกจากทุ่น 1)\n        basic.showString(\"P-\" + buoyId"],[0,")\n  "]],"start1":981,"start2":981,"length1":71,"length2":79},{"diffs":[[0,"== \"NET\") {\n"],[1,"        // ไอคอนอวน (ตัวอย่าง)\n"],[0,"        basi"]],"start1":1083,"start2":1083,"length1":24,"length2":55},{"diffs":[[0,"      `)"],[-1," // ไอคอนอวน (ตัวอย่าง)"],[0,"\n       "]],"start1":1267,"start2":1267,"length1":39,"length2":16},{"diffs":[[0,"  netCount += 1\n"],[1,"        // แสดง \"N-1\"\n"],[0,"        basic.sh"]],"start1":1282,"start2":1282,"length1":32,"length2":54},{"diffs":[[0," buoyId)"],[-1," // แสดง \"N-1\""],[0,"\n    } e"]],"start1":1351,"start2":1351,"length1":30,"length2":16},{"diffs":[[0,"== \"OIL\") {\n"],[1,"        // ไอคอนน้ำมัน (ตัวอย่าง)\n"],[0,"        basi"]],"start1":1385,"start2":1385,"length1":24,"length2":58},{"diffs":[[0,"  `)"],[-1," // ไอคอนน้ำมัน (ตัวอย่าง)"],[0,"\n   "]],"start1":1576,"start2":1576,"length1":34,"length2":8},{"diffs":[[0,"  oilCount += 1\n"],[1,"        // แสดง \"O-1\"\n"],[0,"        basic.sh"]],"start1":1587,"start2":1587,"length1":32,"length2":54},{"diffs":[[0,"yId)"],[-1," // แสดง \"O-1\"\n    }\n    basic.pause(2000)"],[1,"\n    }\n   "],[0," // "]],"start1":1660,"start2":1660,"length1":50,"length2":18},{"diffs":[[0,"  basic."],[-1,"clearScreen()"],[1,"pause(2000)\n   "],[0," // เคลี"]],"start1":1696,"start2":1696,"length1":29,"length2":31},{"diffs":[[0,"    "],[-1,"showOverallStatus() // แสดงสถานะรวม\n})\n\n// โชว์สถานะรวมของขยะที่ตรวจพบ\nfunction showOverallStatus() {\n    basic.showString(\"P:\" + plasticCount + \" N:\" + netCount + \" O:\" + oilCount)\n}\n\n// โหมดทำความสะอาด\ninput.onButtonPressed(Button.AB, function () {\n    basic.showIcon(IconNames.Happy) // แสดงไอคอนมีความสุข\n    basic.showString(\"CLEANING...\")\n    plastic"],[1,"basic.clearScreen()\n    // แสดงสถานะรวม\n    showOverallStatus()\n})\nlet buoyId = \"\"\nlet wasteType = \"\"\nlet parts: string[] = []\nlet oil"],[0,"Coun"]],"start1":1737,"start2":1737,"length1":364,"length2":142},{"diffs":[[0,"et oilCount = 0\n"],[-1,"   "],[1,"let"],[0," netCount = 0\n  "]],"start1":1869,"start2":1869,"length1":35,"length2":35},{"diffs":[[0,"= 0\n"],[-1,"    oilCount = 0\n    basic.pause(1000)\n    basic.clearScreen()\n    showOverallStatus() // แสดงสถานะหลังทำความสะอาด\n})\n"],[1,"let plasticCount = 0\n// ตั้งค่าเมื่อเริ่มต้น\n// ต้องตรงกับ Group ของทุ่น\nradio.setGroup(1)\n// แสดงสถานะพร้อมทำงาน\nbasic.showString(\"READY!\")"],[0,"\nbas"]],"start1":1898,"start2":1898,"length1":126,"length2":148},{"diffs":[[0,"\n   "],[-1," basic.pause(5000)"],[0," // "]],"start1":2139,"start2":2139,"length1":26,"length2":8},{"diffs":[[0,"หม่\n"],[-1,"})\n\nทุ่นก่อนติดir"],[1,"    basic.pause(5000)\n})\n"]],"start1":2189,"start2":2189,"length1":21,"length2":29}]}]},{"timestamp":1750152039154,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"ือนใหม่\n})\n\n"],[1,"ทุ่นก่อนติดir"]],"start1":2065,"start2":2065,"length1":12,"length2":25}]}]},{"timestamp":1750152042564,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"ตือนใหม่\n})\n"],[1,"\n"]],"start1":2064,"start2":2064,"length1":12,"length2":13}]}]},{"timestamp":1750152043526,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"let "],[-1,"buoyID = 1 // กำหนด ID ของทุ่นนี้ (ถ้ามีหลายทุ่น ให้เปลี่ยนเป็น 2, 3, ... ตามลำดับ)"],[1,"plasticCount = 0\nlet netCount = 0\nlet oilCount = 0"],[0,"\n\n//"]],"start1":0,"start2":0,"length1":91,"length2":58},{"diffs":[[0,"ค่าเ"],[1,"มื่อเ"],[0,"ริ่มต้น"],[-1,"ของ Micro:bit\nbasic.forever(function () {\n    // โค้ดที่ทำงานวนซ้ำตลอดเวลา\n    // ในที่นี้คือการอ่านค่าจากเซ็นเซอร์ IR\n\n    // ตรวจสอบสถานะของ IR Sensor ที่ขา P10\n    // โดยปกติ เซ็นเซอร์ IR Proximity จะให้ค่า 0 เมื่อตรวจพบวัตถุ (หรือ 1 ขึ้นอยู่กับรุ่นของเซ็นเซอร์)\n    // ควรทดสอบเซ็นเซอร์ของคุณก่อนเพื่อยืนยันค่าที่ถูกต้อง\n    if (pins.digitalReadPin(DigitalPin.P10) == 0) { // ถ้าตรวจพบวัตถุ\n        // แสดงไอคอนหรือข้อความบนหน้าจอ Micro:bit\n        basic.showIcon(IconNames.No"],[1,"\nradio.setGroup(1) // ต้องตรงกับ Group ของทุ่น\nbasic.showString(\"READY!\") // แสดงสถานะพร้อมทำงาน\n\nradio.onReceivedString(function (receivedString) {\n    // แยกประเภทขยะและ ID ทุ่นจากข้อความที่ได้รับ\n    let parts = receivedString.split(\"-\") // เช่น \"PLASTIC-1\" จะถูกแยกเป็น [\"PLASTIC\", \"1\"]\n    let wasteType = parts[0]\n    let buoyId = parts[1]\n\n    if (wasteType == \"PLASTIC\") {\n        basic.showLeds(`\n            . # . # .\n            . # # # .\n            . . # . .\n            . # # # .\n            . # . # .\n            `) // ไอคอนพลาสติก (ตัวอย่าง)\n        plasticCount += 1\n        basic.showString(\"P-\" + buoyId) // แสดง \"P-1\" (พลาสติกจากทุ่น 1)\n    } else if (wasteType == \"NET\") {\n        basic.showLeds(`\n            # # . # #\n            . # # # .\n            . . # . .\n            . # # # .\n            # # . # #\n            `"],[0,") // "],[-1,"แสดง"],[0,"ไอคอน"],[-1," \"ไม่\" หรือไอคอนอื่นที่สื่อถึงขยะ\n\n        // ส่งสัญญาณเตือนภัยไปยังศูนย์บัญชาการชายฝั่งผ่านวิทยุ\n        radio.send"],[1,"อวน (ตัวอย่าง)\n        netCount += 1\n        basic.show"],[0,"String(\""],[-1,"PLASTIC"],[1,"N"],[0,"-\" +"]],"start1":63,"start2":63,"length1":640,"length2":936},{"diffs":[[0,"uoyI"],[-1,"D"],[1,"d"],[0,") // "],[-1,"ส่งข้อความ \"PLASTIC\" ตามด้วย ID ของทุ่น\n\n        // หน่วงเวลาเล็กน้อย เพื่อป้องกันการส่งสัญญาณรัวเกินไป"],[1,"แสดง \"N-1\"\n    } else if (wasteType == \"OIL\") {\n        basic.showLeds(`\n            # . . . #\n            . # . # .\n            . . # . .\n            . # . # .\n            # . . . #\n            `) // ไอคอนน้ำมัน (ตัวอย่าง)\n        oilCount += 1\n        basic.showString(\"O-\" + buoyId) // แสดง \"O-1\""],[0,"\n    "],[1,"}\n"],[0,"    "]],"start1":1001,"start2":1001,"length1":122,"length2":320},{"diffs":[[0,"use("],[-1,"1"],[1,"2"],[0,"000) // "],[-1,"หน่วงเวลา 1"],[1,"แสดงผล 2"],[0," วินาที\n"],[-1,"    "],[0,"    "]],"start1":1329,"start2":1329,"length1":40,"length2":33},{"diffs":[[0," // "],[-1,"ล้าง"],[1,"เคลียร์"],[0,"หน้าจอ\n"],[-1,"\n"],[0,"    "],[-1,"} else { // ถ้าไม่พบวัตถุ\n        basic.clearScreen() // ล้างหน้าจอ Micro:bit ให้ว่างเปล่า\n    }\n})\n\n// ตั้งค่าการสื่อสารวิทยุเมื่อเริ่มต้น\nradio.setGroup(1) // ตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ\nbasic.showString(\"BUOY \" + buoyID) // แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน\n\n// ส่วนเพิ่มเติม: สามารถใช้ปุ่มอื่นหรือการเคลื่อนไหวเพื่อจำลองขยะประเภทอื่นได้"],[1,"showOverallStatus() // แสดงสถานะรวม\n})\n\n// โชว์สถานะรวมของขยะที่ตรวจพบ\nfunction showOverallStatus() {\n    basic.showString(\"P:\" + plasticCount + \" N:\" + netCount + \" O:\" + oilCount)\n}\n\n// โหมดทำความสะอาด"],[0,"\ninp"]],"start1":1381,"start2":1381,"length1":423,"length2":229},{"diffs":[[0,"(Button."],[1,"A"],[0,"B, funct"]],"start1":1628,"start2":1628,"length1":16,"length2":17},{"diffs":[[0,"mes."],[-1,"Skull"],[1,"Happy"],[0,") //"]],"start1":1679,"start2":1679,"length1":13,"length2":13},{"diffs":[[0,"อคอน"],[-1,"กะโหลก\n    radio.sendString(\"NET-\" + buoyID) // ส่งข้อความ \"NET\" ตามด้วย ID ของทุ่น"],[1,"มีความสุข\n    basic.showString(\"CLEANING...\")\n    plasticCount = 0\n    netCount = 0\n    oilCount = 0"],[0,"\n   "]],"start1":1698,"start2":1698,"length1":91,"length2":108},{"diffs":[[0,"    basic.pause("],[-1,"5"],[1,"10"],[0,"00)\n    basic.cl"]],"start1":1803,"start2":1803,"length1":33,"length2":34},{"diffs":[[0,"n()\n"],[-1,"})\n\ninput.onGesture(Gesture.Shake, function () {\n    basic.showIcon(IconNames.Ghost) // แสดงไอคอนผี\n    radio.sendString(\"OIL-\" + buoyID) // ส่งข้อความ \"OIL\" ตามด้วย ID ของทุ่น\n    basic.pause(500)\n    basic.clearScreen()"],[1,"    showOverallStatus() // แสดงสถานะหลังทำความสะอาด\n})\n\nbasic.forever(function () {\n    // สามารถแสดงสถานะรวมหมุนวนไปเรื่อยๆ ได้\n    showOverallStatus()\n    basic.pause(5000) // แสดงสถานะรวมทุก 5 วินาที หากไม่มีการเตือนใหม่"],[0,"\n})"],[1,"\n"]],"start1":1845,"start2":1845,"length1":228,"length2":231}]}]},{"timestamp":1750152867927,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"@yK9:_o0vi]/h$W//66`\">buoyID</variable></variables><block type=\"device_button_event\" x=\"10\" y=\"10\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน\nส่วนเพิ่มเติม: สามารถใช้ปุ่มอื่นหรือการเคลื่อนไหวเพื่อจำลองขยะประเภทอื่นได้</comment><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Skull</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนกะโหลก</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความ \"NET\" ตามด้วย ID ของทุ่น</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">NET-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@yK9:_o0vi]/h$W//66`\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement></block><block type=\"device_gesture_event\" x=\"10\" y=\"10\"><field name=\"NAME\">Gesture.Shake</field><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Ghost</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนผี</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความ \"OIL\" ตามด้วย ID ของทุ่น</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">OIL-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@yK9:_o0vi]/h$W//66`\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"@yK9:_o0vi]/h$W//66`\">buoyID</field><comment pinned=\"false\" h=\"80\" w=\"160\">กำหนด ID ของทุ่นนี้ (ถ้ามีหลายทุ่น ให้เปลี่ยนเป็น 2, 3, ... ตามลำดับ)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่าการสื่อสารวิทยุเมื่อเริ่มต้น\nตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน</comment><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">BUOY </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@yK9:_o0vi]/h$W//66`\">buoyID</field></block></value></block></value></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"649\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">กำหนด ID ของทุ่นนี้ (ถ้ามีหลายทุ่น ให้เปลี่ยนเป็น 2, 3, ... ตามลำดับ)\nตั้งค่าเริ่มต้นของ Micro:bit</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">โค้ดที่ทำงานวนซ้ำตลอดเวลา\nในที่นี้คือการอ่านค่าจากเซ็นเซอร์ IR\nตรวจสอบสถานะของ IR Sensor ที่ขา P10\nโดยปกติ เซ็นเซอร์ IR Proximity จะให้ค่า 0 เมื่อตรวจพบวัตถุ (หรือ 1 ขึ้นอยู่กับรุ่นของเซ็นเซอร์)\nควรทดสอบเซ็นเซอร์ของคุณก่อนเพื่อยืนยันค่าที่ถูกต้อง</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_digital_pin\"><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P10</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนหรือข้อความบนหน้าจอ Micro:bit\nแสดงไอคอน \"ไม่\" หรือไอคอนอื่นที่สื่อถึงขยะ</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งสัญญาณเตือนภัยไปยังศูนย์บัญชาการชายฝั่งผ่านวิทยุ\nส่งข้อความ \"PLASTIC\" ตามด้วย ID ของทุ่น</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">PLASTIC-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@yK9:_o0vi]/h$W//66`\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">หน่วงเวลาเล็กน้อย เพื่อป้องกันการส่งสัญญาณรัวเกินไป\nหน่วงเวลา 1 วินาที</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">ล้างหน้าจอ</comment></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">ถ้าไม่พบวัตถุ\nล้างหน้าจอ Micro:bit ให้ว่างเปล่า</comment></block></statement"],[1,"ye*sUu$gun=GAyZ;T!L?\">parts</variable><variable id=\"o_1O(DLwVQ|S]K?T+Y=e\">wasteType</variable><variable id=\"{ekCF8nMSOl*R:%e/D8W\">buoyId</variable><variable id=\"l`TX`wmaq.MXP/~M~~g8\">plasticCount</variable><variable id=\"-$,xKU*[YNv6uX-sqj}|\">netCount</variable><variable id=\"YaB,:9)).HN6YAE*,$og\">oilCount</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่าเมื่อเริ่มต้น\nต้องตรงกับ Group ของทุ่น</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงสถานะพร้อมทำงาน</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">READY!</field></shadow></value></block></next></block></statement></block><block type=\"device_button_event\" x=\"317\" y=\"20\"><field name=\"NAME\">Button.AB</field><comment pinned=\"false\" h=\"80\" w=\"160\">โหมดทำความสะอาด</comment><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Happy</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนมีความสุข</comment><next><block type=\"device_print_message\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">CLEANING...</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"l`TX`wmaq.MXP/~M~~g8\">plasticCount</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-$,xKU*[YNv6uX-sqj}|\">netCount</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"YaB,:9)).HN6YAE*,$og\">oilCount</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"><next><block type=\"function_call\"><mutation name=\"showOverallStatus\" functionid=\"5frT/B~9ML*@!)u8ieQ]\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงสถานะหลังทำความสะอาด</comment></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"649\" y=\"20\"><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"showOverallStatus\" functionid=\"5frT/B~9ML*@!)u8ieQ]\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">สามารถแสดงสถานะรวมหมุนวนไปเรื่อยๆ ได้</comment><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงสถานะรวมทุก 5 วินาที หากไม่มีการเตือนใหม่</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">5000</field></shadow></value></block></next></block></statement></block><block type=\"radio_on_string_drag\" x=\"944\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงสถานะพร้อมทำงาน</comment><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"ye*sUu$gun=GAyZ;T!L?\">parts</field><comment pinned=\"false\" h=\"80\" w=\"160\">แยกประเภทขยะและ ID ทุ่นจากข้อความที่ได้รับ\nเช่น \"PLASTIC-1\" จะถูกแยกเป็น [\"PLASTIC\", \"1\"]</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_split\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"separator\"><shadow type=\"text\"><field name=\"TEXT\">-</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"o_1O(DLwVQ|S]K?T+Y=e\">wasteType</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"ye*sUu$gun=GAyZ;T!L?\">parts</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"{ekCF8nMSOl*R:%e/D8W\">buoyId</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"ye*sUu$gun=GAyZ;T!L?\">parts</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation elseif=\"2\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"o_1O(DLwVQ|S]K?T+Y=e\">wasteType</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">PLASTIC</field></block></value></block></value><statement name=\"DO0\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . # . # . \n        . # # # . \n        . . # . . \n        . # # # . \n        . # . # .\n        `</field><comment pinned=\"false\" h=\"80\" w=\"160\">ไอคอนพลาสติก (ตัวอย่าง)</comment><next><block type=\"variables_change\"><field name=\"VAR\" id=\"l`TX`wmaq.MXP/~M~~g8\">plasticCount</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดง \"P-1\" (พลาสติกจากทุ่น 1)</comment><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">P-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{ekCF8nMSOl*R:%e/D8W\">buoyId</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"o_1O(DLwVQ|S]K?T+Y=e\">wasteType</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">NET</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        # # . # # \n        . # # # . \n        . . # . . \n        . # # # . \n        # # . # #\n        `</field><comment pinned=\"false\" h=\"80\" w=\"160\">ไอคอนอวน (ตัวอย่าง)</comment><next><block type=\"variables_change\"><field name=\"VAR\" id=\"-$,xKU*[YNv6uX-sqj}|\">netCount</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดง \"N-1\"</comment><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">N-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{ekCF8nMSOl*R:%e/D8W\">buoyId</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"o_1O(DLwVQ|S]K?T+Y=e\">wasteType</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OIL</field></block></value></block></value><statement name=\"DO2\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        # . . . # \n        . # . # . \n        . . # . . \n        . # . # . \n        # . . . #\n        `</field><comment pinned=\"false\" h=\"80\" w=\"160\">ไอคอนน้ำมัน (ตัวอย่าง)</comment><next><block type=\"variables_change\"><field name=\"VAR\" id=\"YaB,:9)).HN6YAE*,$og\">oilCount</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดง \"O-1\"</comment><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">O-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{ekCF8nMSOl*R:%e/D8W\">buoyId</field></block></value></block></value></block></next></block></next></block></statement><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงผล 2 วินาที</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">เคลียร์หน้าจอ</comment><next><block type=\"function_call\"><mutation name=\"showOverallStatus\" functionid=\"5frT/B~9ML*@!)u8ieQ]\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงสถานะรวม</comment></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1489\" y=\"20\"><mutation name=\"showOverallStatus\" functionid=\"5frT/B~9ML*@!)u8ieQ]\"></mutation><field name=\"function_name\">showOverallStatus</field><comment pinned=\"false\" h=\"80\" w=\"160\">โชว์สถานะรวมของขยะที่ตรวจพบ</comment><statement name=\"STACK\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"text_join\" inline=\"false\"><mutation items=\"6\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">P:</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l`TX`wmaq.MXP/~M~~g8\">plasticCount</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"> N:</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-$,xKU*[YNv6uX-sqj}|\">netCount</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\"> O:</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"YaB,:9)).HN6YAE*,$og\">oilCount</field></block></value></block></value"],[0,"></b"]],"start1":76,"start2":76,"length1":5910,"length2":11120}]}]},{"timestamp":1750152917657,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ble id=\""],[-1,"IUS?zq4?Q=Y`m!n/:rZq"],[1,"@yK9:_o0vi]/h$W//66`"],[0,"\">buoyID"]],"start1":72,"start2":72,"length1":36,"length2":36},{"diffs":[[0,"pe=\""],[-1,"pxt-on-star"],[1,"device_button_even"],[0,"t\" x=\""],[1,"1"],[0,"0\" y=\""],[1,"1"],[0,"0\"><"],[-1,"statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"IUS?zq4?Q=Y`m!n/:rZq\">buoyID</field><comment pinned=\"false\" h=\"80\" w=\"160\">กำหนด ID ของทุ่นนี้ (ถ้ามีหลายทุ่น ให้เปลี่ยนเป็น 2, 3, ... ตามลำดับ)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่าเริ่มต้นของ Micro:bit\nตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_print_message"],[1,"field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน\nส่วนเพิ่มเติม: สามารถใช้ปุ่มอื่นหรือการเคลื่อนไหวเพื่อจำลองขยะประเภทอื่นได้</comment><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Skull</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนกะโหลก</comment><next><block type=\"radio_datagram_send_string"],[0,"\"><c"]],"start1":140,"start2":140,"length1":729,"length2":456},{"diffs":[[0," h=\"80\" w=\"160\">"],[-1,"แสด"],[1,"ส่"],[0,"งข้อความ \"BUOY 1"]],"start1":617,"start2":617,"length1":35,"length2":34},{"diffs":[[0,"าม \""],[-1,"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงา"],[1,"NET\" ตามด้วย ID ของทุ่"],[0,"น</c"]],"start1":641,"start2":641,"length1":43,"length2":30},{"diffs":[[0,"e name=\""],[-1,"text"],[1,"msg"],[0,"\"><block"]],"start1":683,"start2":683,"length1":20,"length2":19},{"diffs":[[0,"=\"TEXT\">"],[-1,"BUOY "],[1,"NET-"],[0,"</field>"]],"start1":801,"start2":801,"length1":21,"length2":20},{"diffs":[[0,"AR\" id=\""],[-1,"IUS?zq4?Q=Y`m!n/:rZq"],[1,"@yK9:_o0vi]/h$W//66`"],[0,"\">buoyID"]],"start1":955,"start2":955,"length1":36,"length2":36},{"diffs":[[0,"/block></value><"],[1,"next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next><"],[0,"/block></next></"]],"start1":1016,"start2":1016,"length1":32,"length2":258},{"diffs":[[0,"ck type=\"device_"],[-1,"button"],[1,"gesture"],[0,"_event\" x=\"524\" "]],"start1":1319,"start2":1319,"length1":38,"length2":39},{"diffs":[[0," x=\""],[-1,"524"],[1,"10"],[0,"\" y=\""],[1,"1"],[0,"0\"><"]],"start1":1349,"start2":1349,"length1":16,"length2":16},{"diffs":[[0,"ME\">"],[-1,"Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">ส่วนเพิ่มเติม: คุณยังสามารถใช้ปุ่ม B หรือการเขย่าเพื่อจำลองขยะประเภทอื่นได้</comment"],[1,"Gesture.Shake</field"],[0,"><st"]],"start1":1379,"start2":1379,"length1":147,"length2":28},{"diffs":[[0,"e=\"i\">IconNames."],[-1,"Skull"],[1,"Ghost"],[0,"</field><comment"]],"start1":1470,"start2":1470,"length1":37,"length2":37},{"diffs":[[0,"=\"160\">แสดงไอคอน"],[-1,"กะโหลก"],[1,"ผี"],[0,"</comment><next>"]],"start1":1531,"start2":1531,"length1":38,"length2":34},{"diffs":[[0,"60\">ส่งข้อความ \""],[-1,"NET"],[1,"OIL"],[0,"\" ตามด้วย ID ของ"]],"start1":1641,"start2":1641,"length1":35,"length2":35},{"diffs":[[0,"eld name=\"TEXT\">"],[-1,"NET"],[1,"OIL"],[0,"-</field></shado"]],"start1":1805,"start2":1805,"length1":35,"length2":35},{"diffs":[[0,"AR\" id=\""],[-1,"IUS?zq4?Q=Y`m!n/:rZq"],[1,"@yK9:_o0vi]/h$W//66`"],[0,"\">buoyID"]],"start1":1967,"start2":1967,"length1":36,"length2":36},{"diffs":[[0,"pe=\""],[-1,"device_forever\" x=\"1093\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน"],[1,"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"@yK9:_o0vi]/h$W//66`\">buoyID</field><comment pinned=\"false\" h=\"80\" w=\"160\">กำหนด ID ของทุ่นนี้ (ถ้ามีหลายทุ่น ให้เปลี่ยนเป็น 2, 3, ... ตามลำดับ)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่าการสื่อสารวิทยุเมื่อเริ่มต้น\nตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน</comment><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">BUOY </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@yK9:_o0vi]/h$W//66`\">buoyID</field></block></value></block></value></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"649\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">กำหนด ID ของทุ่นนี้ (ถ้ามีหลายทุ่น ให้เปลี่ยนเป็น 2, 3, ... ตามลำดับ)\nตั้งค่าเริ่มต้นของ Micro:bit"],[0,"</co"]],"start1":2336,"start2":2336,"length1":127,"length2":1432},{"diffs":[[0,"AR\" id=\""],[-1,"IUS?zq4?Q=Y`m!n/:rZq"],[1,"@yK9:_o0vi]/h$W//66`"],[0,"\">buoyID"]],"start1":5324,"start2":5324,"length1":36,"length2":36},{"diffs":[[0,"ck><"],[-1,"block type=\"device_gesture_event\" x=\"0\" y=\"523\"><field name=\"NAME\">Gesture.Shake</field><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Ghost</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนผี</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความ \"OIL\" ตามด้วย ID ของทุ่น</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">OIL-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"IUS?zq4?Q=Y`m!n/:rZq\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement></block><"],[0,"/xml"]],"start1":6008,"start2":6008,"length1":1020,"length2":8}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"// ส่วนเพิ่มเติม: คุณยังสามารถใช้ปุ่ม B หรือการเขย่าเพื่อจำลองขยะประเภทอื่นได้\ninput.onButtonPressed(Button.B, function () {\n    // แสดงไอคอนกะโหลก\n    basic.showIcon(IconNames.Skull)\n    // ส่งข้อความ \"NET\" ตามด้วย ID ของทุ่น\n    radio.sendString(\"NET-\" + buoyID)\n    basic.pause(500)\n    basic.clearScreen()\n})\ninput.onGesture(Gesture.Shake, function () {\n    // แสดงไอคอนผี\n    basic.showIcon(IconNames.Ghost)\n    // ส่งข้อความ \"OIL\" ตามด้วย ID ของทุ่น\n    radio.sendString(\"OIL-\" + buoyID)\n    basic.pause(500)\n    basic.clearScreen()\n})\nlet buoyID = 0\n"],[1,"let buoyID = 1 "],[0,"// ก"]],"start1":0,"start2":0,"length1":561,"length2":19},{"diffs":[[0,"มลำดับ)\n"],[-1,"buoyID = 1"],[0,"\n// ตั้ง"]],"start1":80,"start2":80,"length1":26,"length2":16},{"diffs":[[0,"bit\n"],[-1,"// ตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ\nradio.setGroup(1)\n// แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน\nbasic.showString(\"BUOY \" + buoyID)\n// แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน\n"],[0,"basi"]],"start1":117,"start2":117,"length1":241,"length2":8},{"diffs":[[0,"ซอร์ IR\n"],[1,"\n"],[0,"    // ต"]],"start1":218,"start2":218,"length1":16,"length2":17},{"diffs":[[0," == 0) {"],[1," // ถ้าตรวจพบวัตถุ"],[0,"\n       "]],"start1":475,"start2":475,"length1":16,"length2":34},{"diffs":[[0,"icro:bit\n       "],[1," basic.showIcon(IconNames.No)"],[0," // แสดงไอคอน \"ไ"]],"start1":543,"start2":543,"length1":32,"length2":61},{"diffs":[[0,"ขยะ\n"],[-1,"        basic.showIcon(IconNames.No)"],[0,"\n   "]],"start1":631,"start2":631,"length1":44,"length2":8},{"diffs":[[0,"ิทยุ\n       "],[1," radio.sendString(\"PLASTIC-\" + buoyID)"],[0," // ส่งข้อคว"]],"start1":694,"start2":694,"length1":24,"length2":62},{"diffs":[[0,"ุ่น\n"],[-1,"        radio.sendString(\"PLASTIC-\" + buoyID)"],[0,"\n   "]],"start1":784,"start2":784,"length1":53,"length2":8},{"diffs":[[0,"ัวเกินไป\n       "],[1," basic.pause(1000)"],[0," // หน่วงเวลา 1 "]],"start1":843,"start2":843,"length1":32,"length2":50},{"diffs":[[0,"sic."],[-1,"pause(1000)\n        // ล้างหน้าจอ\n        basic.clearScreen()\n    } else {\n        // ถ้าไม่พบวัตถุ\n        // ล้างหน้าจอ Micro:bit ให้ว่างเปล่า\n    "],[1,"clearScreen() // ล้างหน้าจอ\n\n    } else { // ถ้าไม่พบวัตถุ\n        basic.clearScreen() // ล้างหน้าจอ Micro:bit ให้ว่างเปล่า\n    }\n})\n\n// ตั้งค่าการสื่อสารวิทยุเมื่อเริ่มต้น\nradio.setGroup(1) // ตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ\nbasic.showString(\"BUOY \" + buoyID) // แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน\n\n// ส่วนเพิ่มเติม: สามารถใช้ปุ่มอื่นหรือการเคลื่อนไหวเพื่อจำลองขยะประเภทอื่นได้\ninput.onButtonPressed(Button.B, function () {\n    basic.showIcon(IconNames.Skull) // แสดงไอคอนกะโหลก\n    radio.sendString(\"NET-\" + buoyID) // ส่งข้อความ \"NET\" ตามด้วย ID ของทุ่น\n    basic.pause(500)\n    basic.clearScreen()\n})\n\ninput.onGesture(Gesture.Shake, function () {\n    basic.showIcon(IconNames.Ghost) // แสดงไอคอนผี\n    radio.sendString(\"OIL-\" + buoyID) // ส่งข้อความ \"OIL\" ตามด้วย ID ของทุ่น\n    basic.pause(500)\n"],[0,"    "]],"start1":910,"start2":910,"length1":157,"length2":862},{"diffs":[[0,"creen()\n"],[-1,"    }\n"],[0,"})"],[-1,"\n"]],"start1":1784,"start2":1784,"length1":17,"length2":10}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"block"],[1,"t"],[0,"sprj\"\n}\n"]],"start1":243,"start2":243,"length1":21,"length2":17}]}]},{"timestamp":1750153514279,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"t"],[1,"block"],[0,"sprj\"\n}\n"]],"start1":243,"start2":243,"length1":17,"length2":21}]}]},{"timestamp":1750205772456,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"block"],[1,"t"],[0,"sprj\"\n}\n"]],"start1":243,"start2":243,"length1":21,"length2":17}]}]},{"timestamp":1750206288679,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"let buoyID = 1 // กำหนด ID ของทุ่นนี้ (เปลี่ยนตามทุ่นแต่ละตัว)\n\n// ตั้งค่าเริ่มต้นของ Micro:bit\nradio.setGroup(1) // ตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ\nbasic.showString(\"BUOY \" + buoyID) // แสดงข้อความเมื่อเริ่มต้นทำงาน\n\nbasic.forever(function () {\n    // โค้ดที่ทำงานวนซ้ำตลอดเวลาเพื่ออ่านค่าจากเซ็นเซอร์ IR\n\n    // ตรวจสอบสถานะของ IR Sensor ที่ขา P10\n    // (โดยปกติ IR Sensor ให้ค่า 0 เมื่อตรวจพบวัตถุ)\n    if (pins.digitalReadPin(DigitalPin.P10) == 0) { // ถ้าตรวจพบวัตถุ\n        basic.showIcon(IconNames.No) // แสดงไอคอน \"ไม่\" (จำลองขยะพลาสติก)\n        radio.sendString(\"PLASTIC-\" + buoyID) // ส่งข้อความแจ้งว่าเป็นขยะพลาสติก พร้อม ID ทุ่น\n        basic.pause(1000) // หน่วงเวลา 1 วินาที เพื่อไม่ให้ส่งสัญญาณรัวเกินไป\n        basic.clearScreen() // ล้างหน้าจอ\n    } else {\n        basic.clearScreen() // ไม่มีวัตถุ หน้าจอว่างเปล่า\n    }\n})\n\n// "],[1,"// ส่วนเพิ่มเติม: คุณยัง"],[0,"สามา"]],"start1":0,"start2":0,"length1":889,"length2":28},{"diffs":[[0,", function () {\n"],[1,"    // แสดงไอคอนกะโหลก\n"],[0,"    basic.showIc"]],"start1":109,"start2":109,"length1":32,"length2":55},{"diffs":[[0,"ull)"],[-1," // แสดงไอคอนกะโหลก (จำลองขยะอวน/เชือก)"],[1,"\n    // ส่งข้อความ \"NET\" ตามด้วย ID ของทุ่น"],[0,"\n   "]],"start1":179,"start2":179,"length1":47,"length2":51},{"diffs":[[0,"yID)"],[-1," // ส่งข้อความ \"NET\" พร้อม ID ทุ่น"],[0,"\n   "]],"start1":260,"start2":260,"length1":42,"length2":8},{"diffs":[[0,"en()\n})\n"],[-1,"\n"],[0,"input.on"]],"start1":305,"start2":305,"length1":17,"length2":16},{"diffs":[[0,"nction () {\n"],[1,"    // แสดงไอคอนผี\n"],[0,"    basic.sh"]],"start1":346,"start2":346,"length1":24,"length2":43},{"diffs":[[0,"ost)"],[-1," // แสดงไอคอนผี (จำลองมลพิษน้ำมัน/สารเคมี)\n    radio.send"],[1,"\n    // ส่งข้อความ \"OIL\" ตามด้วย ID ของทุ่น\n    radio.sendString(\"OIL-\" + buoyID)\n    basic.pause(500)\n    basic.clearScreen()\n})\nlet buoyID = 0\n// กำหนด ID ของทุ่นนี้ (ถ้ามีหลายทุ่น ให้เปลี่ยนเป็น 2, 3, ... ตามลำดับ)\nbuoyID = 1\n// ตั้งค่าเริ่มต้นของ Micro:bit\n// ตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ\nradio.setGroup(1)\n// แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน\nbasic.show"],[0,"String(\""],[-1,"OIL-"],[1,"BUOY "],[0,"\" + "]],"start1":408,"start2":408,"length1":77,"length2":437},{"diffs":[[0,"yID)"],[-1," // ส่งข้อความ \"OIL\" พร้อม ID ทุ่น\n"],[1,"\n// แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน\nbasic.forever(function () {\n    // โค้ดที่ทำงานวนซ้ำตลอดเวลา\n    // ในที่นี้คือการอ่านค่าจากเซ็นเซอร์ IR\n    // ตรวจสอบสถานะของ IR Sensor ที่ขา P10\n    // โดยปกติ เซ็นเซอร์ IR Proximity จะให้ค่า 0 เมื่อตรวจพบวัตถุ (หรือ 1 ขึ้นอยู่กับรุ่นของเซ็นเซอร์)\n    // ควรทดสอบเซ็นเซอร์ของคุณก่อนเพื่อยืนยันค่าที่ถูกต้อง\n    if (pins.digitalReadPin(DigitalPin.P10) == 0) {\n        // แสดงไอคอนหรือข้อความบนหน้าจอ Micro:bit\n        // แสดงไอคอน \"ไม่\" หรือไอคอนอื่นที่สื่อถึงขยะ\n        basic.showIcon(IconNames.No)\n        // ส่งสัญญาณเตือนภัยไปยังศูนย์บัญชาการชายฝั่งผ่านวิทยุ\n        // ส่งข้อความ \"PLASTIC\" ตามด้วย ID ของทุ่น\n        radio.sendString(\"PLASTIC-\" + buoyID)\n        // หน่วงเวลาเล็กน้อย เพื่อป้องกันการส่งสัญญาณรัวเกินไป\n        // หน่วงเวลา 1 วินาที\n    "],[0,"    "]],"start1":848,"start2":848,"length1":43,"length2":822},{"diffs":[[0,"use("],[-1,"5"],[1,"10"],[0,"00)\n    "],[-1,"basic.clearScreen()\n})"],[1,"    // ล้างหน้าจอ\n        basic.clearScreen()\n    } else {\n        // ถ้าไม่พบวัตถุ\n        // ล้างหน้าจอ Micro:bit ให้ว่างเปล่า\n        basic.clearScreen()\n    }\n})\n"]],"start1":1678,"start2":1678,"length1":35,"length2":180}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"t"],[1,"block"],[0,"sprj\"\n}\n"]],"start1":243,"start2":243,"length1":17,"length2":21}]}]},{"timestamp":1750206293675,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ble id=\""],[-1,"YB2LyO13(w0I}N$pCwW5"],[1,"IUS?zq4?Q=Y`m!n/:rZq"],[0,"\">buoyID"]],"start1":72,"start2":72,"length1":36,"length2":36},{"diffs":[[0,"pe=\""],[-1,"device_forever\" x=\"10\" y=\"10\"><comment pinned=\"false\" h"],[1,"pxt-on-start\" x"],[0,"=\""],[-1,"8"],[0,"0\" "],[-1,"w"],[1,"y"],[0,"=\""],[-1,"16"],[0,"0\">"],[-1,"แสดงข้อความเมื่อเริ่มต้นทำงาน</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">โค้ดที่ทำงานวนซ้ำตลอดเวลาเพื่ออ่านค่าจากเซ็นเซอร์ IR\nตรวจสอบสถานะของ IR Sensor ที่ขา P10\n(โดยปกติ IR Sensor ให้ค่า 0 เมื่อตรวจพบวัตถุ)</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A"],[1,"<statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"IUS?zq4?Q=Y`m!n/:rZq\">buoyID</field><comment pinned=\"false\" h=\"80\" w=\"160\">กำหนด ID ของทุ่นนี้ (ถ้ามีหลายทุ่น ให้เปลี่ยนเป็น 2, 3, ... ตามลำดับ)</comment><value name=\"VALUE"],[0,"\"><s"]],"start1":140,"start2":140,"length1":537,"length2":282},{"diffs":[[0,"ield name=\"NUM\">"],[-1,"0"],[1,"1"],[0,"</field></shadow"]],"start1":449,"start2":449,"length1":33,"length2":33},{"diffs":[[0,"ow><"],[-1,"block type=\"device_get_digital_pin\"><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P10</field></shadow></value></block></value"],[1,"/value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่าเริ่มต้นของ Micro:bit\nตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ</comment"],[0,"><va"]],"start1":480,"start2":480,"length1":169,"length2":198},{"diffs":[[0,"e name=\""],[-1,"B"],[1,"ID"],[0,"\"><shado"]],"start1":680,"start2":680,"length1":17,"length2":18},{"diffs":[[0,"mber"],[-1,"\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอน \"ไม่\" (จำลองขยะพลาสติก)</comment><next><block type=\"radio_datagram_send_string"],[1,"_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_print_message"],[0,"\"><c"]],"start1":713,"start2":713,"length1":285,"length2":156},{"diffs":[[0,"60\">"],[-1,"ส่"],[1,"แสด"],[0,"งข้อความ"],[-1,"แจ้งว่าเป็นขยะพลาสติก พร้อม ID ทุ่"],[1," \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงา"],[0,"น</c"]],"start1":902,"start2":902,"length1":52,"length2":56},{"diffs":[[0,"nt><value name=\""],[-1,"msg"],[1,"text"],[0,"\"><block type=\"t"]],"start1":962,"start2":962,"length1":35,"length2":36},{"diffs":[[0,"XT\">"],[-1,"PLASTIC-"],[1,"BUOY "],[0,"</fi"]],"start1":1093,"start2":1093,"length1":16,"length2":13},{"diffs":[[0,"AR\" id=\""],[-1,"YB2LyO13(w0I}N$pCwW5"],[1,"IUS?zq4?Q=Y`m!n/:rZq"],[0,"\">buoyID"]],"start1":1244,"start2":1244,"length1":36,"length2":36},{"diffs":[[0,"ue><"],[-1,"next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">หน่วงเวลา 1 วินาที เพื่อไม่ให้ส่งสัญญาณรัวเกินไป</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">ล้างหน้าจอ</comment></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">ไม่มีวัตถุ หน้าจอว่างเปล่า</comment></block></statemen"],[1,"/block></next></block></nex"],[0,"t></"]],"start1":1317,"start2":1317,"length1":545,"length2":35},{"diffs":[[0,"n_event\" x=\""],[-1,"10"],[1,"524"],[0,"\" y=\""],[-1,"1"],[0,"0\"><field na"]],"start1":1403,"start2":1403,"length1":32,"length2":32},{"diffs":[[0,"=\"160\">ส"],[1,"่วนเพิ่มเติม: คุณยังส"],[0,"ามารถใช้"]],"start1":1493,"start2":1493,"length1":16,"length2":37},{"diffs":[[0,"โหลก"],[-1," (จำลองขยะอวน/เชือก)"],[0,"</co"]],"start1":1730,"start2":1730,"length1":28,"length2":8},{"diffs":[[0,"ม \"NET\" "],[-1,"พร้อม"],[1,"ตามด้วย"],[0," ID "],[1,"ของ"],[0,"ทุ่น</co"]],"start1":1839,"start2":1839,"length1":25,"length2":30},{"diffs":[[0,"AR\" id=\""],[-1,"YB2LyO13(w0I}N$pCwW5"],[1,"IUS?zq4?Q=Y`m!n/:rZq"],[0,"\">buoyID"]],"start1":2152,"start2":2152,"length1":36,"length2":36},{"diffs":[[0,"ice_"],[-1,"gesture_event\" x"],[1,"forever\" x=\"1093\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w"],[0,"=\"1"],[1,"6"],[0,"0\""],[-1," y=\"10\"><field name=\"NAME\">Gesture.Shake</field"],[1,">โค้ดที่ทำงานวนซ้ำตลอดเวลา\nในที่นี้คือการอ่านค่าจากเซ็นเซอร์ IR\nตรวจสอบสถานะของ IR Sensor ที่ขา P10\nโดยปกติ เซ็นเซอร์ IR Proximity จะให้ค่า 0 เมื่อตรวจพบวัตถุ (หรือ 1 ขึ้นอยู่กับรุ่นของเซ็นเซอร์)\nควรทดสอบเซ็นเซอร์ของคุณก่อนเพื่อยืนยันค่าที่ถูกต้อง</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_digital_pin\"><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P10</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value"],[0,"><st"]],"start1":2528,"start2":2528,"length1":76,"length2":993},{"diffs":[[0,"statement name=\""],[-1,"HANDLER"],[1,"DO0"],[0,"\"><block type=\"b"]],"start1":3519,"start2":3519,"length1":39,"length2":35},{"diffs":[[0,"mes."],[-1,"Ghost"],[1,"No"],[0,"</fi"]],"start1":3592,"start2":3592,"length1":13,"length2":10},{"diffs":[[0,"อคอน"],[-1,"ผี (จำลองมลพิษน้ำมัน/สารเคมี)"],[1,"หรือข้อความบนหน้าจอ Micro:bit\nแสดงไอคอน \"ไม่\" หรือไอคอนอื่นที่สื่อถึงขยะ"],[0,"</co"]],"start1":3650,"start2":3650,"length1":37,"length2":80},{"diffs":[[0,">ส่ง"],[-1,"ข้อความ \"OIL\" พร้อม"],[1,"สัญญาณเตือนภัยไปยังศูนย์บัญชาการชายฝั่งผ่านวิทยุ\nส่งข้อความ \"PLASTIC\" ตามด้วย"],[0," ID "],[1,"ของ"],[0,"ทุ่น"]],"start1":3821,"start2":3821,"length1":31,"length2":92},{"diffs":[[0,"XT\">"],[-1,"OIL"],[1,"PLASTIC"],[0,"-</f"]],"start1":4050,"start2":4050,"length1":11,"length2":15},{"diffs":[[0,"AR\" id=\""],[-1,"YB2LyO13(w0I}N$pCwW5"],[1,"IUS?zq4?Q=Y`m!n/:rZq"],[0,"\">buoyID"]],"start1":4204,"start2":4204,"length1":36,"length2":36},{"diffs":[[0,"e\"><"],[-1,"data>{\"commentRefs\":[],\"fieldData\":{}}</data"],[1,"comment pinned=\"false\" h=\"80\" w=\"160\">หน่วงเวลาเล็กน้อย เพื่อป้องกันการส่งสัญญาณรัวเกินไป\nหน่วงเวลา 1 วินาที</comment"],[0,"><va"]],"start1":4310,"start2":4310,"length1":52,"length2":125},{"diffs":[[0,"field name=\"ms\">"],[-1,"5"],[1,"1"],[0,"00"],[1,"0"],[0,"</field></shadow"]],"start1":4479,"start2":4479,"length1":35,"length2":36},{"diffs":[[0,"clear_display\"><"],[1,"comment pinned=\"false\" h=\"80\" w=\"160\">ล้างหน้าจอ</comment><"],[0,"/block></next></"]],"start1":4550,"start2":4550,"length1":32,"length2":91},{"diffs":[[0,"nt><"],[-1,"/block><block type=\"pxt-on-start\" x=\"10\" y=\"10\"><"],[0,"stat"]],"start1":4686,"start2":4686,"length1":57,"length2":8},{"diffs":[[0,"statement name=\""],[-1,"HANDLER"],[1,"ELSE"],[0,"\"><block type=\"v"]],"start1":4690,"start2":4690,"length1":39,"length2":36},{"diffs":[[0,"pe=\""],[-1,"variables_set\"><field name=\"VAR\" id=\"YB2LyO13(w0I}N$pCwW5\">buoyID</field><comment pinned=\"false\" h=\"80\" w=\"160\">กำหนด ID ของทุ่นนี้ (เปลี่ยนตามทุ่นแต่ละตัว)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่าเริ่มต้นของ Micro:bit\nตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_print_message"],[1,"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">ถ้าไม่พบวัตถุ\nล้างหน้าจอ Micro:bit ให้ว่างเปล่า</comment></block></statement></block></statement></block><block type=\"device_gesture_event\" x=\"0\" y=\"523\"><field name=\"NAME\">Gesture.Shake</field><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Ghost</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนผี</comment><next><block type=\"radio_datagram_send_string"],[0,"\"><c"]],"start1":4721,"start2":4721,"length1":639,"length2":463},{"diffs":[[0,"60\">"],[-1,"แสด"],[1,"ส่"],[0,"งข้อความ"],[-1,"เมื่อเริ่มต้นทำงา"],[1," \"OIL\" ตามด้วย ID ของทุ่"],[0,"น</c"]],"start1":5217,"start2":5217,"length1":36,"length2":42},{"diffs":[[0,"nt><value name=\""],[-1,"text"],[1,"msg"],[0,"\"><block type=\"t"]],"start1":5263,"start2":5263,"length1":36,"length2":35},{"diffs":[[0,"eld name=\"TEXT\">"],[-1,"BUOY "],[1,"OIL-"],[0,"</field></shadow"]],"start1":5381,"start2":5381,"length1":37,"length2":36},{"diffs":[[0,"id=\""],[-1,"YB2LyO13(w0I}N$pCwW5"],[1,"IUS?zq4?Q=Y`m!n/:rZq"],[0,"\">bu"]],"start1":5547,"start2":5547,"length1":28,"length2":28},{"diffs":[[0,"/block></value><"],[1,"next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next><"],[0,"/block></next></"]],"start1":5604,"start2":5604,"length1":32,"length2":258}]}]},{"timestamp":1750293697769,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"block"],[1,"t"],[0,"sprj\"\n}\n"]],"start1":243,"start2":243,"length1":21,"length2":17}]}]},{"timestamp":1750293698761,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"pe=\""],[-1,"pxt-on-start\" x"],[1,"device_forever\" x=\"10\" y=\"10\"><comment pinned=\"false\" h"],[0,"=\""],[1,"8"],[0,"0\" "],[-1,"y"],[1,"w"],[0,"=\""],[1,"16"],[0,"0\">"],[-1,"<statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"YB2LyO13(w0I}N$pCwW5\">buoyID</field><comment pinned=\"false\" h=\"80\" w=\"160\">กำหนด ID ของทุ่นนี้ (เปลี่ยนตามทุ่นแต่ละตัว)</comment><value name=\"VALUE"],[1,"แสดงข้อความเมื่อเริ่มต้นทำงาน</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">โค้ดที่ทำงานวนซ้ำตลอดเวลาเพื่ออ่านค่าจากเซ็นเซอร์ IR\nตรวจสอบสถานะของ IR Sensor ที่ขา P10\n(โดยปกติ IR Sensor ให้ค่า 0 เมื่อตรวจพบวัตถุ)</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A"],[0,"\"><s"]],"start1":140,"start2":140,"length1":257,"length2":537},{"diffs":[[0,"e=\"NUM\">"],[-1,"1"],[1,"0"],[0,"</field>"]],"start1":712,"start2":712,"length1":17,"length2":17},{"diffs":[[0,"ow><"],[-1,"/value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่าเริ่มต้นของ Micro:bit\nตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ</comment"],[1,"block type=\"device_get_digital_pin\"><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P10</field></shadow></value></block></value"],[0,"><va"]],"start1":735,"start2":735,"length1":198,"length2":169},{"diffs":[[0,"e name=\""],[-1,"ID"],[1,"B"],[0,"\"><shado"]],"start1":906,"start2":906,"length1":18,"length2":17},{"diffs":[[0,"mber"],[-1,"_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutati"],[1,"\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"basic_show_ic"],[0,"on"],[1,"\""],[0,"><fi"]],"start1":938,"start2":938,"length1":69,"length2":121},{"diffs":[[0,"me=\""],[-1,"SLIDER\">1</field></shadow></value><next><block type=\"device_print_message"],[1,"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอน \"ไม่\" (จำลองขยะพลาสติก)</comment><next><block type=\"radio_datagram_send_string"],[0,"\"><c"]],"start1":1065,"start2":1065,"length1":81,"length2":158},{"diffs":[[0,"60\">"],[-1,"แสด"],[1,"ส่"],[0,"งข้อความ"],[-1,"เมื่อเริ่มต้นทำงา"],[1,"แจ้งว่าเป็นขยะพลาสติก พร้อม ID ทุ่"],[0,"น</c"]],"start1":1256,"start2":1256,"length1":36,"length2":52},{"diffs":[[0,"e name=\""],[-1,"text"],[1,"msg"],[0,"\"><block"]],"start1":1320,"start2":1320,"length1":20,"length2":19},{"diffs":[[0,"XT\">"],[-1,"BUOY "],[1,"PLASTIC-"],[0,"</fi"]],"start1":1442,"start2":1442,"length1":13,"length2":16},{"diffs":[[0,"ue><"],[-1,"/block></next></block></nex"],[1,"next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">หน่วงเวลา 1 วินาที เพื่อไม่ให้ส่งสัญญาณรัวเกินไป</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">ล้างหน้าจอ</comment></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">ไม่มีวัตถุ หน้าจอว่างเปล่า</comment></block></statemen"],[0,"t></"]],"start1":1669,"start2":1669,"length1":35,"length2":545},{"diffs":[[0," x=\""],[-1,"524"],[1,"10"],[0,"\" y=\""],[1,"1"],[0,"0\"><"]],"start1":2273,"start2":2273,"length1":16,"length2":16},{"diffs":[[0,"field name=\"ms\">"],[-1,"10"],[1,"5"],[0,"00</field></shad"]],"start1":3210,"start2":3210,"length1":34,"length2":33},{"diffs":[[0,"ice_"],[-1,"forever\" x=\"1093\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงข้อความเมื่อเริ่มต้นทำงาน</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w"],[1,"gesture_event\" x=\"10\" y"],[0,"=\"1"],[-1,"6"],[0,"0\">"],[-1,"โค้ดที่ทำงานวนซ้ำตลอดเวลาเพื่ออ่านค่าจากเซ็นเซอร์ IR\nตรวจสอบสถานะของ IR Sensor ที่ขา P10\n(โดยปกติ IR Sensor ให้ค่า 0 เมื่อตรวจพบวัตถุ)</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_digital_pin\"><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P10</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value"],[1,"<field name=\"NAME\">Gesture.Shake</field"],[0,"><st"]],"start1":3384,"start2":3384,"length1":861,"length2":76},{"diffs":[[0,"statement name=\""],[-1,"DO0"],[1,"HANDLER"],[0,"\"><block type=\"b"]],"start1":3458,"start2":3458,"length1":35,"length2":39},{"diffs":[[0,"e=\"i\">IconNames."],[-1,"No"],[1,"Ghost"],[0,"</field><comment"]],"start1":3523,"start2":3523,"length1":34,"length2":37},{"diffs":[[0,"สดงไอคอน"],[-1," \"ไม่\""],[1,"ผี"],[0," (จำลอง"],[-1,"ขยะพลาสติก"],[1,"มลพิษน้ำมัน/สารเคมี"],[0,")</comme"]],"start1":3592,"start2":3592,"length1":39,"length2":44},{"diffs":[[0,"งข้อความ"],[-1,"แจ้งว่าเป็นขยะพลาสติก"],[1," \"OIL\""],[0," พร้อม I"]],"start1":3727,"start2":3727,"length1":37,"length2":22},{"diffs":[[0,"eld name=\"TEXT\">"],[-1,"PLASTIC"],[1,"OIL"],[0,"-</field></shado"]],"start1":3880,"start2":3880,"length1":39,"length2":35},{"diffs":[[0,"e\"><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">หน่วงเวลา 1 วินาที เพื่อไม่ให้ส่งสัญญาณรัวเกินไป</comment"],[1,"data>{\"commentRefs\":[],\"fieldData\":{}}</data"],[0,"><va"]],"start1":4148,"start2":4148,"length1":103,"length2":52},{"diffs":[[0,"field name=\"ms\">"],[-1,"10"],[1,"5"],[0,"00</field></shad"]],"start1":4244,"start2":4244,"length1":34,"length2":33},{"diffs":[[0,"y\"><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">ล้างหน้าจอ</commen"],[1,"/block></nex"],[0,"t></"]],"start1":4326,"start2":4326,"length1":64,"length2":20},{"diffs":[[0,"/next></block></"],[-1,"nex"],[1,"statemen"],[0,"t></block></stat"]],"start1":4368,"start2":4368,"length1":35,"length2":40},{"diffs":[[0,"nt></block><"],[-1,"/statement"],[1,"block type=\"pxt-on-start\" x=\"10\" y=\"10\""],[0,"><statement "]],"start1":4391,"start2":4391,"length1":34,"length2":63},{"diffs":[[0,"statement name=\""],[-1,"ELSE"],[1,"HANDLER"],[0,"\"><block type=\"d"]],"start1":4444,"start2":4444,"length1":36,"length2":39},{"diffs":[[0,"pe=\""],[-1,"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">ไม่มีวัตถุ หน้าจอว่างเปล่า</comment></block></statement></block></statement></block><block type=\"device_gesture_event\" x=\"0\" y=\"523\"><field name=\"NAME\">Gesture.Shake</field><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Ghost</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนผี (จำลองมลพิษน้ำมัน/สารเคมี)</comment><next><block type=\"radio_datagram_send_string"],[1,"variables_set\"><field name=\"VAR\" id=\"YB2LyO13(w0I}N$pCwW5\">buoyID</field><comment pinned=\"false\" h=\"80\" w=\"160\">กำหนด ID ของทุ่นนี้ (เปลี่ยนตามทุ่นแต่ละตัว)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่าเริ่มต้นของ Micro:bit\nตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_print_message"],[0,"\"><c"]],"start1":4478,"start2":4478,"length1":469,"length2":639},{"diffs":[[0,"60\">"],[-1,"ส่"],[1,"แสด"],[0,"งข้อความ"],[-1," \"OIL\" พร้อม ID ทุ่"],[1,"เมื่อเริ่มต้นทำงา"],[0,"น</c"]],"start1":5150,"start2":5150,"length1":37,"length2":36},{"diffs":[[0,"nt><value name=\""],[-1,"msg"],[1,"text"],[0,"\"><block type=\"t"]],"start1":5190,"start2":5190,"length1":35,"length2":36},{"diffs":[[0,"eld name=\"TEXT\">"],[-1,"OIL-"],[1,"BUOY "],[0,"</field></shadow"]],"start1":5309,"start2":5309,"length1":36,"length2":37},{"diffs":[[0,"ue><"],[-1,"next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"></block></next><"],[0,"/blo"]],"start1":5545,"start2":5545,"length1":235,"length2":8}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"// สามารถใช้ปุ่ม B หรือการเขย่าเพื่อจำลองขยะประเภทอื่นได้\ninput.onButtonPressed(Button.B, function () {\n    // แสดงไอคอนกะโหลก (จำลองขยะอวน/เชือก)\n    basic.showIcon(IconNames.Skull)\n    // ส่งข้อความ \"NET\" พร้อม ID ทุ่น\n    radio.sendString(\"NET-\" + buoyID)\n    basic.pause(1000)\n    basic.clearScreen()\n})\ninput.onGesture(Gesture.Shake, function () {\n    // แสดงไอคอนผี (จำลองมลพิษน้ำมัน/สารเคมี)\n    basic.showIcon(IconNames.Ghost)\n    // ส่งข้อความ \"OIL\" พร้อม ID ทุ่น\n    radio.sendString(\"OIL-\" + buoyID)\n    basic.pause(1000)\n    basic.clearScreen()\n})\nlet buoyID = 0\n"],[1,"let buoyID = 1 "],[0,"// ก"]],"start1":0,"start2":0,"length1":579,"length2":19},{"diffs":[[0,"่ละตัว)\n"],[-1,"buoyID = 1"],[0,"\n// ตั้ง"]],"start1":55,"start2":55,"length1":26,"length2":16},{"diffs":[[0,"cro:bit\n"],[1,"radio.setGroup(1) "],[0,"// ตั้งค"]],"start1":88,"start2":88,"length1":16,"length2":34},{"diffs":[[0,"ะบบ\n"],[-1,"radio.setGroup(1)\n// แสดงข้อความเมื่อเริ่มต้นทำงาน\n"],[0,"basi"]],"start1":184,"start2":184,"length1":59,"length2":8},{"diffs":[[0," buoyID)"],[-1,"\n"],[1," "],[0,"// แสดงข"]],"start1":214,"start2":214,"length1":17,"length2":17},{"diffs":[[0,"้นทำงาน\n"],[1,"\n"],[0,"basic.fo"]],"start1":248,"start2":248,"length1":16,"length2":17},{"diffs":[[0,"ซอร์ IR\n"],[1,"\n"],[0,"    // ต"]],"start1":337,"start2":337,"length1":16,"length2":17},{"diffs":[[0," == 0) {"],[-1,"\n       "],[1," // ถ้าตรวจพบวัตถุ\n        basic.showIcon(IconNames.No)"],[0," // แสดง"]],"start1":485,"start2":485,"length1":24,"length2":71},{"diffs":[[0,"    "],[-1,"basic.showIcon(IconNames.No)\n       "],[1,"radio.sendString(\"PLASTIC-\" + buoyID)"],[0," // "]],"start1":590,"start2":590,"length1":44,"length2":45},{"diffs":[[0,"    "],[-1,"radio.sendString(\"PLASTIC-\" + buoyID)\n       "],[1,"basic.pause(1000)"],[0," // "]],"start1":685,"start2":685,"length1":53,"length2":25},{"diffs":[[0,"sic."],[-1,"pause(1000)\n       "],[1,"clearScreen()"],[0," // "]],"start1":769,"start2":769,"length1":27,"length2":21},{"diffs":[[0,"งหน้าจอ\n"],[1,"    } else {\n"],[0,"        "]],"start1":793,"start2":793,"length1":16,"length2":29},{"diffs":[[0,"Screen()"],[-1,"\n    } else {\n       "],[0," // ไม่ม"]],"start1":833,"start2":833,"length1":37,"length2":16},{"diffs":[[0,"างเปล่า\n    "],[1,"}\n})\n\n// สามารถใช้ปุ่ม B หรือการเขย่าเพื่อจำลองขยะประเภทอื่นได้\ninput.onButtonPressed(Button.B, function () {\n    basic.showIcon(IconNames.Skull) // แสดงไอคอนกะโหลก (จำลองขยะอวน/เชือก)\n    radio.sendString(\"NET-\" + buoyID) // ส่งข้อความ \"NET\" พร้อม ID ทุ่น\n    basic.pause(500)\n    basic.clearScreen()\n})\n\ninput.onGesture(Gesture.Shake, function () {\n    basic.showIcon(IconNames.Ghost) // แสดงไอคอนผี (จำลองมลพิษน้ำมัน/สารเคมี)\n    radio.sendString(\"OIL-\" + buoyID) // ส่งข้อความ \"OIL\" พร้อม ID ทุ่น\n    basic.pause(500)\n"],[0,"    basic.cl"]],"start1":864,"start2":864,"length1":24,"length2":546},{"diffs":[[0,"creen()\n"],[-1,"    }\n"],[0,"})"],[-1,"\n"]],"start1":1414,"start2":1414,"length1":17,"length2":10}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"t"],[1,"block"],[0,"sprj\"\n}\n"]],"start1":243,"start2":243,"length1":17,"length2":21}]}]},{"timestamp":1750294200736,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"iables><"],[1,"block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"YB2LyO13(w0I}N$pCwW5\">buoyID</field><comment pinned=\"false\" h=\"80\" w=\"160\">กำหนด ID ของทุ่นนี้ (เปลี่ยนตามทุ่นแต่ละตัว)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่าเริ่มต้นของ Micro:bit\nตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงข้อความเมื่อเริ่มต้นทำงาน</comment><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">BUOY </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"YB2LyO13(w0I}N$pCwW5\">buoyID</field></block></value></block></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"524\" y=\"0\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">สามารถใช้ปุ่ม B หรือการเขย่าเพื่อจำลองขยะประเภทอื่นได้</comment><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Skull</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนกะโหลก (จำลองขยะอวน/เชือก)</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความ \"NET\" พร้อม ID ทุ่น</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">NET-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"YB2LyO13(w0I}N$pCwW5\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"1093\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงข้อความเมื่อเริ่มต้นทำงาน</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">โค้ดที่ทำงานวนซ้ำตลอดเวลาเพื่ออ่านค่าจากเซ็นเซอร์ IR\nตรวจสอบสถานะของ IR Sensor ที่ขา P10\n(โดยปกติ IR Sensor ให้ค่า 0 เมื่อตรวจพบวัตถุ)</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_digital_pin\"><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P10</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอน \"ไม่\" (จำลองขยะพลาสติก)</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความแจ้งว่าเป็นขยะพลาสติก พร้อม ID ทุ่น</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">PLASTIC-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"YB2LyO13(w0I}N$pCwW5\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">หน่วงเวลา 1 วินาที เพื่อไม่ให้ส่งสัญญาณรัวเกินไป</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">ล้างหน้าจอ</comment></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">ไม่มีวัตถุ หน้าจอว่างเปล่า</comment></block></statement></block></statement></block><block type=\"device_gesture_event\" x=\"0\" y=\"523\"><field name=\"NAME\">Gesture.Shake</field><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Ghost</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนผี (จำลองมลพิษน้ำมัน/สารเคมี)</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความ \"OIL\" พร้อม ID ทุ่น</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">OIL-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"YB2LyO13(w0I}N$pCwW5\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement></block><"],[0,"/xml>"]],"start1":124,"start2":124,"length1":13,"length2":5489}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," ],\n"],[-1,"    \"testFiles\": [\n        \"test.ts\"\n    ],\n"],[0,"    "]],"start1":223,"start2":223,"length1":52,"length2":8}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1750120612197,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"SOSS\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1750152039154,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"ye*sUu$gun=GAyZ;T!L?\">parts</variable><variable id=\"o_1O(DLwVQ|S]K?T+Y=e\">wasteType</variable><variable id=\"{ekCF8nMSOl*R:%e/D8W\">buoyId</variable><variable id=\"l`TX`wmaq.MXP/~M~~g8\">plasticCount</variable><variable id=\"-$,xKU*[YNv6uX-sqj}|\">netCount</variable><variable id=\"YaB,:9)).HN6YAE*,$og\">oilCount</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่าเมื่อเริ่มต้น\nต้องตรงกับ Group ของทุ่น</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงสถานะพร้อมทำงาน</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">READY!</field></shadow></value></block></next></block></statement></block><block type=\"device_button_event\" x=\"317\" y=\"20\"><field name=\"NAME\">Button.AB</field><comment pinned=\"false\" h=\"80\" w=\"160\">โหมดทำความสะอาด</comment><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Happy</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนมีความสุข</comment><next><block type=\"device_print_message\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">CLEANING...</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"l`TX`wmaq.MXP/~M~~g8\">plasticCount</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-$,xKU*[YNv6uX-sqj}|\">netCount</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"YaB,:9)).HN6YAE*,$og\">oilCount</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"><next><block type=\"function_call\"><mutation name=\"showOverallStatus\" functionid=\"5frT/B~9ML*@!)u8ieQ]\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงสถานะหลังทำความสะอาด</comment></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"649\" y=\"20\"><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"showOverallStatus\" functionid=\"5frT/B~9ML*@!)u8ieQ]\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">สามารถแสดงสถานะรวมหมุนวนไปเรื่อยๆ ได้</comment><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงสถานะรวมทุก 5 วินาที หากไม่มีการเตือนใหม่</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">5000</field></shadow></value></block></next></block></statement></block><block type=\"radio_on_string_drag\" x=\"944\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงสถานะพร้อมทำงาน</comment><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"ye*sUu$gun=GAyZ;T!L?\">parts</field><comment pinned=\"false\" h=\"80\" w=\"160\">แยกประเภทขยะและ ID ทุ่นจากข้อความที่ได้รับ\nเช่น \"PLASTIC-1\" จะถูกแยกเป็น [\"PLASTIC\", \"1\"]</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_split\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"separator\"><shadow type=\"text\"><field name=\"TEXT\">-</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"o_1O(DLwVQ|S]K?T+Y=e\">wasteType</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"ye*sUu$gun=GAyZ;T!L?\">parts</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"{ekCF8nMSOl*R:%e/D8W\">buoyId</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"ye*sUu$gun=GAyZ;T!L?\">parts</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation elseif=\"2\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"o_1O(DLwVQ|S]K?T+Y=e\">wasteType</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">PLASTIC</field></block></value></block></value><statement name=\"DO0\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . # . # . \n        . # # # . \n        . . # . . \n        . # # # . \n        . # . # .\n        `</field><comment pinned=\"false\" h=\"80\" w=\"160\">ไอคอนพลาสติก (ตัวอย่าง)</comment><next><block type=\"variables_change\"><field name=\"VAR\" id=\"l`TX`wmaq.MXP/~M~~g8\">plasticCount</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดง \"P-1\" (พลาสติกจากทุ่น 1)</comment><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">P-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{ekCF8nMSOl*R:%e/D8W\">buoyId</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"o_1O(DLwVQ|S]K?T+Y=e\">wasteType</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">NET</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        # # . # # \n        . # # # . \n        . . # . . \n        . # # # . \n        # # . # #\n        `</field><comment pinned=\"false\" h=\"80\" w=\"160\">ไอคอนอวน (ตัวอย่าง)</comment><next><block type=\"variables_change\"><field name=\"VAR\" id=\"-$,xKU*[YNv6uX-sqj}|\">netCount</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดง \"N-1\"</comment><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">N-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{ekCF8nMSOl*R:%e/D8W\">buoyId</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"o_1O(DLwVQ|S]K?T+Y=e\">wasteType</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OIL</field></block></value></block></value><statement name=\"DO2\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        # . . . # \n        . # . # . \n        . . # . . \n        . # . # . \n        # . . . #\n        `</field><comment pinned=\"false\" h=\"80\" w=\"160\">ไอคอนน้ำมัน (ตัวอย่าง)</comment><next><block type=\"variables_change\"><field name=\"VAR\" id=\"YaB,:9)).HN6YAE*,$og\">oilCount</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดง \"O-1\"</comment><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">O-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{ekCF8nMSOl*R:%e/D8W\">buoyId</field></block></value></block></value></block></next></block></next></block></statement><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงผล 2 วินาที</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">เคลียร์หน้าจอ</comment><next><block type=\"function_call\"><mutation name=\"showOverallStatus\" functionid=\"5frT/B~9ML*@!)u8ieQ]\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงสถานะรวม</comment></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1489\" y=\"20\"><mutation name=\"showOverallStatus\" functionid=\"5frT/B~9ML*@!)u8ieQ]\"></mutation><field name=\"function_name\">showOverallStatus</field><comment pinned=\"false\" h=\"80\" w=\"160\">โชว์สถานะรวมของขยะที่ตรวจพบ</comment><statement name=\"STACK\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"text_join\" inline=\"false\"><mutation items=\"6\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">P:</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l`TX`wmaq.MXP/~M~~g8\">plasticCount</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"> N:</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-$,xKU*[YNv6uX-sqj}|\">netCount</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\"> O:</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"YaB,:9)).HN6YAE*,$og\">oilCount</field></block></value></block></value></block></statement></block></xml>","main.ts":"// โชว์สถานะรวมของขยะที่ตรวจพบ\nfunction showOverallStatus () {\n    basic.showString(\"P:\" + plasticCount + \" N:\" + netCount + \" O:\" + oilCount)\n}\n// โหมดทำความสะอาด\ninput.onButtonPressed(Button.AB, function () {\n    // แสดงไอคอนมีความสุข\n    basic.showIcon(IconNames.Happy)\n    basic.showString(\"CLEANING...\")\n    plasticCount = 0\n    netCount = 0\n    oilCount = 0\n    basic.pause(1000)\n    basic.clearScreen()\n    // แสดงสถานะหลังทำความสะอาด\n    showOverallStatus()\n})\n// แสดงสถานะพร้อมทำงาน\nradio.onReceivedString(function (receivedString) {\n    // แยกประเภทขยะและ ID ทุ่นจากข้อความที่ได้รับ\n    // เช่น \"PLASTIC-1\" จะถูกแยกเป็น [\"PLASTIC\", \"1\"]\n    parts = receivedString.split(\"-\")\n    wasteType = parts[0]\n    buoyId = parts[1]\n    if (wasteType == \"PLASTIC\") {\n        // ไอคอนพลาสติก (ตัวอย่าง)\n        basic.showLeds(`\n            . # . # .\n            . # # # .\n            . . # . .\n            . # # # .\n            . # . # .\n            `)\n        plasticCount += 1\n        // แสดง \"P-1\" (พลาสติกจากทุ่น 1)\n        basic.showString(\"P-\" + buoyId)\n    } else if (wasteType == \"NET\") {\n        // ไอคอนอวน (ตัวอย่าง)\n        basic.showLeds(`\n            # # . # #\n            . # # # .\n            . . # . .\n            . # # # .\n            # # . # #\n            `)\n        netCount += 1\n        // แสดง \"N-1\"\n        basic.showString(\"N-\" + buoyId)\n    } else if (wasteType == \"OIL\") {\n        // ไอคอนน้ำมัน (ตัวอย่าง)\n        basic.showLeds(`\n            # . . . #\n            . # . # .\n            . . # . .\n            . # . # .\n            # . . . #\n            `)\n        oilCount += 1\n        // แสดง \"O-1\"\n        basic.showString(\"O-\" + buoyId)\n    }\n    // แสดงผล 2 วินาที\n    basic.pause(2000)\n    // เคลียร์หน้าจอ\n    basic.clearScreen()\n    // แสดงสถานะรวม\n    showOverallStatus()\n})\nlet buoyId = \"\"\nlet wasteType = \"\"\nlet parts: string[] = []\nlet oilCount = 0\nlet netCount = 0\nlet plasticCount = 0\n// ตั้งค่าเมื่อเริ่มต้น\n// ต้องตรงกับ Group ของทุ่น\nradio.setGroup(1)\n// แสดงสถานะพร้อมทำงาน\nbasic.showString(\"READY!\")\nbasic.forever(function () {\n    // สามารถแสดงสถานะรวมหมุนวนไปเรื่อยๆ ได้\n    showOverallStatus()\n    // แสดงสถานะรวมทุก 5 วินาที หากไม่มีการเตือนใหม่\n    basic.pause(5000)\n})\n","README.md":"","pxt.json":"{\n    \"name\": \"SOSS\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1750205772456,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"IUS?zq4?Q=Y`m!n/:rZq\">buoyID</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"IUS?zq4?Q=Y`m!n/:rZq\">buoyID</field><comment pinned=\"false\" h=\"80\" w=\"160\">กำหนด ID ของทุ่นนี้ (ถ้ามีหลายทุ่น ให้เปลี่ยนเป็น 2, 3, ... ตามลำดับ)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่าเริ่มต้นของ Micro:bit\nตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน</comment><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">BUOY </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"IUS?zq4?Q=Y`m!n/:rZq\">buoyID</field></block></value></block></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"524\" y=\"0\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">ส่วนเพิ่มเติม: คุณยังสามารถใช้ปุ่ม B หรือการเขย่าเพื่อจำลองขยะประเภทอื่นได้</comment><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Skull</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนกะโหลก</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความ \"NET\" ตามด้วย ID ของทุ่น</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">NET-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"IUS?zq4?Q=Y`m!n/:rZq\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"1093\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">โค้ดที่ทำงานวนซ้ำตลอดเวลา\nในที่นี้คือการอ่านค่าจากเซ็นเซอร์ IR\nตรวจสอบสถานะของ IR Sensor ที่ขา P10\nโดยปกติ เซ็นเซอร์ IR Proximity จะให้ค่า 0 เมื่อตรวจพบวัตถุ (หรือ 1 ขึ้นอยู่กับรุ่นของเซ็นเซอร์)\nควรทดสอบเซ็นเซอร์ของคุณก่อนเพื่อยืนยันค่าที่ถูกต้อง</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_digital_pin\"><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P10</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนหรือข้อความบนหน้าจอ Micro:bit\nแสดงไอคอน \"ไม่\" หรือไอคอนอื่นที่สื่อถึงขยะ</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งสัญญาณเตือนภัยไปยังศูนย์บัญชาการชายฝั่งผ่านวิทยุ\nส่งข้อความ \"PLASTIC\" ตามด้วย ID ของทุ่น</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">PLASTIC-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"IUS?zq4?Q=Y`m!n/:rZq\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">หน่วงเวลาเล็กน้อย เพื่อป้องกันการส่งสัญญาณรัวเกินไป\nหน่วงเวลา 1 วินาที</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">ล้างหน้าจอ</comment></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">ถ้าไม่พบวัตถุ\nล้างหน้าจอ Micro:bit ให้ว่างเปล่า</comment></block></statement></block></statement></block><block type=\"device_gesture_event\" x=\"0\" y=\"523\"><field name=\"NAME\">Gesture.Shake</field><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Ghost</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนผี</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความ \"OIL\" ตามด้วย ID ของทุ่น</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">OIL-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"IUS?zq4?Q=Y`m!n/:rZq\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":"","pxt.json":"{\n    \"name\": \"SOSS\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1750293697769,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"IUS?zq4?Q=Y`m!n/:rZq\">buoyID</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"IUS?zq4?Q=Y`m!n/:rZq\">buoyID</field><comment pinned=\"false\" h=\"80\" w=\"160\">กำหนด ID ของทุ่นนี้ (ถ้ามีหลายทุ่น ให้เปลี่ยนเป็น 2, 3, ... ตามลำดับ)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">ตั้งค่าเริ่มต้นของ Micro:bit\nตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน</comment><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">BUOY </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"IUS?zq4?Q=Y`m!n/:rZq\">buoyID</field></block></value></block></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"524\" y=\"0\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">ส่วนเพิ่มเติม: คุณยังสามารถใช้ปุ่ม B หรือการเขย่าเพื่อจำลองขยะประเภทอื่นได้</comment><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Skull</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนกะโหลก</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความ \"NET\" ตามด้วย ID ของทุ่น</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">NET-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"IUS?zq4?Q=Y`m!n/:rZq\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"1093\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงข้อความ \"BUOY 1\" (หรือตาม ID) เมื่อเริ่มทำงาน</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">โค้ดที่ทำงานวนซ้ำตลอดเวลา\nในที่นี้คือการอ่านค่าจากเซ็นเซอร์ IR\nตรวจสอบสถานะของ IR Sensor ที่ขา P10\nโดยปกติ เซ็นเซอร์ IR Proximity จะให้ค่า 0 เมื่อตรวจพบวัตถุ (หรือ 1 ขึ้นอยู่กับรุ่นของเซ็นเซอร์)\nควรทดสอบเซ็นเซอร์ของคุณก่อนเพื่อยืนยันค่าที่ถูกต้อง</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_digital_pin\"><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P10</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนหรือข้อความบนหน้าจอ Micro:bit\nแสดงไอคอน \"ไม่\" หรือไอคอนอื่นที่สื่อถึงขยะ</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งสัญญาณเตือนภัยไปยังศูนย์บัญชาการชายฝั่งผ่านวิทยุ\nส่งข้อความ \"PLASTIC\" ตามด้วย ID ของทุ่น</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">PLASTIC-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"IUS?zq4?Q=Y`m!n/:rZq\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">หน่วงเวลาเล็กน้อย เพื่อป้องกันการส่งสัญญาณรัวเกินไป\nหน่วงเวลา 1 วินาที</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">ล้างหน้าจอ</comment></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">ถ้าไม่พบวัตถุ\nล้างหน้าจอ Micro:bit ให้ว่างเปล่า</comment></block></statement></block></statement></block><block type=\"device_gesture_event\" x=\"0\" y=\"523\"><field name=\"NAME\">Gesture.Shake</field><statement name=\"HANDLER\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Ghost</field><comment pinned=\"false\" h=\"80\" w=\"160\">แสดงไอคอนผี</comment><next><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">ส่งข้อความ \"OIL\" ตามด้วย ID ของทุ่น</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">OIL-</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"IUS?zq4?Q=Y`m!n/:rZq\">buoyID</field></block></value></block></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"let buoyID = 1 // กำหนด ID ของทุ่นนี้ (เปลี่ยนตามทุ่นแต่ละตัว)\n\n// ตั้งค่าเริ่มต้นของ Micro:bit\nradio.setGroup(1) // ตั้งค่า Group ของวิทยุให้เป็น Group เดียวกันสำหรับทุก Micro:bit ในระบบ\nbasic.showString(\"BUOY \" + buoyID) // แสดงข้อความเมื่อเริ่มต้นทำงาน\n\nbasic.forever(function () {\n    // โค้ดที่ทำงานวนซ้ำตลอดเวลาเพื่ออ่านค่าจากเซ็นเซอร์ IR\n\n    // ตรวจสอบสถานะของ IR Sensor ที่ขา P10\n    // (โดยปกติ IR Sensor ให้ค่า 0 เมื่อตรวจพบวัตถุ)\n    if (pins.digitalReadPin(DigitalPin.P10) == 0) { // ถ้าตรวจพบวัตถุ\n        basic.showIcon(IconNames.No) // แสดงไอคอน \"ไม่\" (จำลองขยะพลาสติก)\n        radio.sendString(\"PLASTIC-\" + buoyID) // ส่งข้อความแจ้งว่าเป็นขยะพลาสติก พร้อม ID ทุ่น\n        basic.pause(1000) // หน่วงเวลา 1 วินาที เพื่อไม่ให้ส่งสัญญาณรัวเกินไป\n        basic.clearScreen() // ล้างหน้าจอ\n    } else {\n        basic.clearScreen() // ไม่มีวัตถุ หน้าจอว่างเปล่า\n    }\n})\n\n// สามารถใช้ปุ่ม B หรือการเขย่าเพื่อจำลองขยะประเภทอื่นได้\ninput.onButtonPressed(Button.B, function () {\n    basic.showIcon(IconNames.Skull) // แสดงไอคอนกะโหลก (จำลองขยะอวน/เชือก)\n    radio.sendString(\"NET-\" + buoyID) // ส่งข้อความ \"NET\" พร้อม ID ทุ่น\n    basic.pause(500)\n    basic.clearScreen()\n})\n\ninput.onGesture(Gesture.Shake, function () {\n    basic.showIcon(IconNames.Ghost) // แสดงไอคอนผี (จำลองมลพิษน้ำมัน/สารเคมี)\n    radio.sendString(\"OIL-\" + buoyID) // ส่งข้อความ \"OIL\" พร้อม ID ทุ่น\n    basic.pause(500)\n    basic.clearScreen()\n})","README.md":"","pxt.json":"{\n    \"name\": \"SOSS\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}}],"shares":[],"lastSaveTime":1750294470173}